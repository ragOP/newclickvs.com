/*! For license information please see clym.js.LICENSE.txt */
(()=>{var e={40:e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){for(var e,n,r=[],i=window,o=i;o;){try{if(o.frames.__tcfapiLocator){e=o;break}}catch(e){}if(o===i.top)break;o=o.parent}e||(function e(){var t=i.document,n=!!i.frames.__tcfapiLocator;if(!n)if(t.body){var r=t.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",t.body.appendChild(r)}else setTimeout(e,5);return!n}(),i.__tcfapi=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return r;"setGdprApplies"===t[0]?t.length>3&&2===parseInt(t[1],10)&&"boolean"==typeof t[3]&&(n=t[3],"function"==typeof t[2]&&t[2]("set",!0)):"ping"===t[0]?"function"==typeof t[2]&&t[2]({gdprApplies:n,cmpLoaded:!1,cmpStatus:"stub"}):r.push(t)},i.addEventListener("message",(function(e){var n="string"==typeof e.data,r={};if(n)try{r=JSON.parse(e.data)}catch(e){}else r=e.data;var i="object"===t(r)&&null!==r?r.__tcfapiCall:null;i&&window.__tcfapi(i.command,i.version,(function(t,r){var o={__tcfapiReturn:{returnValue:t,success:r,callId:i.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(n?JSON.stringify(o):o,"*")}),i.parameter)}),!1))}},312:(e,t,n)=>{var r;!function(){"use strict";var t="input is invalid type",i="object"==typeof window,o=i?window:{};o.JS_SHA256_NO_WINDOW&&(i=!1);var s=!i&&"object"==typeof self,a=!o.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;a?o=n.g:s&&(o=self);var c=!o.JS_SHA256_NO_COMMON_JS&&e.exports,l=n.amdO,u=!o.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],p=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=["hex","array","digest","arrayBuffer"],g=[];!o.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!o.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var y=function(e,t){return function(n){return new I(t,!0).update(n)[e]()}},v=function(e){var t=y("hex",e);a&&(t=b(t,e)),t.create=function(){return new I(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<m.length;++n){var r=m[n];t[r]=y(r,e)}return t},b=function(e,r){var i,s=n(394),a=n(903).Buffer,c=r?"sha224":"sha256";return i=a.from&&!o.JS_SHA256_NO_BUFFER_FROM?a.from:function(e){return new a(e)},function(n){if("string"==typeof n)return s.createHash(c).update(n,"utf8").digest("hex");if(null==n)throw new Error(t);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===a?s.createHash(c).update(i(n)).digest("hex"):e(n)}},w=function(e,t){return function(n,r){return new S(n,t,!0).update(r)[e]()}},E=function(e){var t=w("hex",e);t.create=function(t){return new S(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<m.length;++n){var r=m[n];t[r]=w(r,e)}return t};function I(e,t){t?(g[0]=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0,this.blocks=g):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function S(e,n,r){var i,o=typeof e;if("string"===o){var s,a=[],c=e.length,l=0;for(i=0;i<c;++i)(s=e.charCodeAt(i))<128?a[l++]=s:s<2048?(a[l++]=192|s>>>6,a[l++]=128|63&s):s<55296||s>=57344?(a[l++]=224|s>>>12,a[l++]=128|s>>>6&63,a[l++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++i)),a[l++]=240|s>>>18,a[l++]=128|s>>>12&63,a[l++]=128|s>>>6&63,a[l++]=128|63&s);e=a}else{if("object"!==o)throw new Error(t);if(null===e)throw new Error(t);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(t)}e.length>64&&(e=new I(n,!0).update(e).array());var d=[],h=[];for(i=0;i<64;++i){var p=e[i]||0;d[i]=92^p,h[i]=54^p}I.call(this,n,r),this.update(h),this.oKeyPad=d,this.inner=!0,this.sharedMemory=r}I.prototype.update=function(e){if(!this.finalized){var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||u&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}for(var i,o,s=0,a=e.length,c=this.blocks;s<a;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,this.block=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),n)for(o=this.start;s<a&&o<64;++s)c[o>>>2]|=e[s]<<p[3&o++];else for(o=this.start;s<a&&o<64;++s)(i=e.charCodeAt(s))<128?c[o>>>2]|=i<<p[3&o++]:i<2048?(c[o>>>2]|=(192|i>>>6)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]):i<55296||i>=57344?(c[o>>>2]|=(224|i>>>12)<<p[3&o++],c[o>>>2]|=(128|i>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++s)),c[o>>>2]|=(240|i>>>18)<<p[3&o++],c[o>>>2]|=(128|i>>>12&63)<<p[3&o++],c[o>>>2]|=(128|i>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=c[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=h[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},I.prototype.hash=function(){var e,t,n,r,i,o,s,a,c,l=this.h0,u=this.h1,d=this.h2,h=this.h3,p=this.h4,m=this.h5,g=this.h6,y=this.h7,v=this.blocks;for(e=16;e<64;++e)t=((i=v[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=v[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[e]=v[e-16]+t+v[e-7]+n|0;for(c=u&d,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,y=(i=v[0]-1413257819)-150054599|0,h=i+24177077|0):(o=704751109,y=(i=v[0]-210244248)-1521486534|0,h=i+143694565|0),this.first=!1):(t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(o=l&u)^l&d^c,y=h+(i=y+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&g)+f[e]+v[e])|0,h=i+(t+r)|0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&l)^h&u^o,g=d+(i=g+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&p^~y&m)+f[e+1]+v[e+1])|0,t=((d=i+(t+r)|0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&h)^d&l^s,m=u+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&p)+f[e+2]+v[e+2])|0,t=((u=i+(t+r)|0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(c=u&d)^u&h^a,p=l+(i=p+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&y)+f[e+3]+v[e+3])|0,l=i+(t+r)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+l|0,this.h1=this.h1+u|0,this.h2=this.h2+d|0,this.h3=this.h3+h|0,this.h4=this.h4+p|0,this.h5=this.h5+m|0,this.h6=this.h6+g|0,this.h7=this.h7+y|0},I.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=d[e>>>28&15]+d[e>>>24&15]+d[e>>>20&15]+d[e>>>16&15]+d[e>>>12&15]+d[e>>>8&15]+d[e>>>4&15]+d[15&e]+d[t>>>28&15]+d[t>>>24&15]+d[t>>>20&15]+d[t>>>16&15]+d[t>>>12&15]+d[t>>>8&15]+d[t>>>4&15]+d[15&t]+d[n>>>28&15]+d[n>>>24&15]+d[n>>>20&15]+d[n>>>16&15]+d[n>>>12&15]+d[n>>>8&15]+d[n>>>4&15]+d[15&n]+d[r>>>28&15]+d[r>>>24&15]+d[r>>>20&15]+d[r>>>16&15]+d[r>>>12&15]+d[r>>>8&15]+d[r>>>4&15]+d[15&r]+d[i>>>28&15]+d[i>>>24&15]+d[i>>>20&15]+d[i>>>16&15]+d[i>>>12&15]+d[i>>>8&15]+d[i>>>4&15]+d[15&i]+d[o>>>28&15]+d[o>>>24&15]+d[o>>>20&15]+d[o>>>16&15]+d[o>>>12&15]+d[o>>>8&15]+d[o>>>4&15]+d[15&o]+d[s>>>28&15]+d[s>>>24&15]+d[s>>>20&15]+d[s>>>16&15]+d[s>>>12&15]+d[s>>>8&15]+d[s>>>4&15]+d[15&s];return this.is224||(c+=d[a>>>28&15]+d[a>>>24&15]+d[a>>>20&15]+d[a>>>16&15]+d[a>>>12&15]+d[a>>>8&15]+d[a>>>4&15]+d[15&a]),c},I.prototype.toString=I.prototype.hex,I.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s];return this.is224||c.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),c},I.prototype.array=I.prototype.digest,I.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},S.prototype=new I,S.prototype.finalize=function(){if(I.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();I.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),I.prototype.finalize.call(this)}};var A=v();A.sha256=A,A.sha224=v(!0),A.sha256.hmac=E(),A.sha224.hmac=E(!0),c?e.exports=A:(o.sha256=A.sha256,o.sha224=A.sha224,l&&(void 0===(r=function(){return A}.call(A,n,A,e))||(e.exports=r)))}()},790:(e,t,n)=>{e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return i(t[s][1][e]||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var s=f((function(){t(i,r)}));"error"===s.status&&r(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==c?d(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then((function(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(l,s))}),(function(e){r||(r=!0,o.reject(l,e))}))}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,r=e.length,s=!1;if(!r)return this.resolve([]);for(var a=-1,c=new this(i);++a<r;)n=e[a],t.resolve(n).then((function(e){s||(s=!0,o.resolve(c,e))}),(function(e){s||(s=!0,o.reject(c,e))}));return c}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var s=Promise;function a(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",h=void 0,p={},f=Object.prototype.toString,m="readonly",g="readwrite";function y(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function v(e){return"boolean"==typeof h?s.resolve(h):function(e){return new s((function(t){var n=e.transaction(d,g),r=o([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return h=e}))}function b(e){var t=p[e.name],n={};n.promise=new s((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function w(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function E(e,t){var n=p[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function I(e,t){return new s((function(n,r){if(p[e.name]=p[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var s=i.open.apply(i,o);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){var t=s.result;t.onversionchange=function(e){e.target.close()},n(t),w(e)}}))}function S(e){return I(e,!1)}function A(e){return I(e,!0)}function _(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function N(e){return o([y(atob(e.data))],{type:e.type})}function C(e){return e&&e.__local_forage_encoded_blob}function T(e){var t=this,n=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(n,e,e),n}function O(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return s.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),A(e)})).then((function(){return function(e){b(e);for(var t=p[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,S(e).then((function(t){return e.db=t,_(e)?A(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw E(e,t),t}))}(e).then((function(){O(e,t,n,r-1)}))})).catch(n);n(i)}}var L={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=p[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},p[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=T);var o=[];function a(){return s.resolve()}for(var c=0;c<i.forages.length;c++){var l=i.forages[c];l!==t&&o.push(l._initReady().catch(a))}var u=i.forages.slice(0);return s.all(o).then((function(){return n.db=i.db,S(n)})).then((function(e){return n.db=e,_(n,t._defaultConfig.version)?A(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){O(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;C(r)&&(r=N(r));var i=e(r,n.key,a++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){O(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),C(e)&&(e=N(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var i=new s((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===f.call(t)?v(o.db).then((function(e){return e?t:(n=t,new s((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){O(r._dbInfo,g,(function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return a(i,n),i},removeItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){O(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){O(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){O(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){e<0?t(null):n.ready().then((function(){O(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,c=s.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){O(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var o=e.name===r.name&&this._dbInfo.db?s.resolve(this._dbInfo.db):S(e).then((function(t){var n=p[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));n=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=p[e.name],o=r.forages;t.close();for(var a=0;a<o.length;a++){var c=o[a];c._dbInfo.db=null,c._dbInfo.version=n}var l=new s((function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return l.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,w(n._dbInfo)}})).catch((function(t){throw(E(e,t)||s.resolve()).catch((function(){})),t}))}})):o.then((function(t){b(e);var n=p[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var a=new s((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return a.then((function(e){n.db=e;for(var t=0;t<r.length;t++)w(r[t]._dbInfo)})).catch((function(t){throw(E(e,t)||s.resolve()).catch((function(){})),t}))}))}else n=s.reject("Invalid arguments");return a(n,t),n}};var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=/^~~local_forage_type~([^~]+)~/,x="__lfsc__:",G="arbf",V="blob",P="si08",k="ui08",M="uic8",H="si16",B="si32",U="ur16",j="ui32",F="fl32",$="fl64",z=Object.prototype.toString;function W(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),u=new Uint8Array(l);for(t=0;t<a;t+=4)n=R.indexOf(e[t]),r=R.indexOf(e[t+1]),i=R.indexOf(e[t+2]),o=R.indexOf(e[t+3]),u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&o;return l}function K(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=R[n[t]>>2],r+=R[(3&n[t])<<4|n[t+1]>>4],r+=R[(15&n[t+1])<<2|n[t+2]>>6],r+=R[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var J={serialize:function(e,t){var n="";if(e&&(n=z.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===z.call(e.buffer))){var r,i=x;e instanceof ArrayBuffer?(r=e,i+=G):(r=e.buffer,"[object Int8Array]"===n?i+=P:"[object Uint8Array]"===n?i+=k:"[object Uint8ClampedArray]"===n?i+=M:"[object Int16Array]"===n?i+=H:"[object Uint16Array]"===n?i+=U:"[object Int32Array]"===n?i+=B:"[object Uint32Array]"===n?i+=j:"[object Float32Array]"===n?i+=F:"[object Float64Array]"===n?i+=$:t(new Error("Failed to get type for BinaryArray"))),t(i+K(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+K(this.result);t(x+V+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==x)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===V&&D.test(n)){var i=n.match(D);t=i[1],n=n.substring(i[0].length)}var s=W(n);switch(r){case G:return s;case V:return o([s],{type:t});case P:return new Int8Array(s);case k:return new Uint8Array(s);case M:return new Uint8ClampedArray(s);case H:return new Int16Array(s);case U:return new Uint16Array(s);case B:return new Int32Array(s);case j:return new Uint32Array(s);case F:return new Float32Array(s);case $:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:W,bufferToString:K};function Y(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function q(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?o(e,s):Y(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,s)}),o)}function Q(e,t,n,r){var i=this;e=l(e);var o=new s((function(o,s){i.ready().then((function(){void 0===t&&(t=null);var a=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,l){l?s(l):c.db.transaction((function(n){q(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Q.apply(i,[e,a,n,r-1]));s(t)}}))}))})).catch(s)}));return a(o,n),o}var X={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new s((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){Y(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=J,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){q(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var c=o.item(a),l=c.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=e(l,c.key,a+1)))return void t(l)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){q(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){return Q.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){q(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){q(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){q(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){q(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){q(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return a(r=e.name?new s((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new s((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new s((function(t,n){e.db.transaction((function(r){function i(e){return new s((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,c=e.storeNames.length;a<c;a++)o.push(i(e.storeNames[a]));s.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):s.reject("Invalid arguments"),t),r}};function Z(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Z(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=J,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var c=localStorage.key(a);if(0===c.indexOf(r)){var l=localStorage.getItem(c);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,c.substring(i),s++)))return l}}}));return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new s((function(i,o){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return a(i,n),i},removeItem:function(e,t){var n=this;e=l(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return a(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return a(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return a(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return a(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return a(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new s((function(t){e.storeName?t(Z(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(r,t),r}},ne=function(e,t){for(var n=e.length,r=0;r<n;){if((i=e[r])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},se={INDEXEDDB:L,WEBSQL:X,LOCALSTORAGE:te},ae=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],ce=["dropInstance"],le=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ce),ue={description:"",driver:ae.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var pe=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se)if(se.hasOwnProperty(n)){var r=se[n],i=r._driver;this[n]=i,ie[i]||this.defineDriver(r)}this._defaultConfig=he({},ue),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new s((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=le.concat("_initStorage"),c=0,l=o.length;c<l;c++){var u=o[c];if((!ne(ce,u)||e[u])&&"function"!=typeof e[u])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,r=ce.length;n<r;n++){var i=ce[n];e[i]||(e[i]=t(i))}}();var d=function(n){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,oe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?s.resolve(ie[e]):s.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=s.resolve(J);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;re(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var l=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=l.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var c=new Error("No available storage method found.");return r._driverSet=s.reject(c),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=s.reject(e),r._driverSet})),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!oe[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=le.length;e<t;e++)de(this,le[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),fe=new pe;t.exports=fe},{3:3}]},{},[4])(4)},903:()=>{},394:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),window.btoa||(window.btoa=function(t){var n,r,i,o,s,a;for(i=t.length,r=0,n="";r<i;){if(o=255&t.charCodeAt(r++),r==i){n+=e.charAt(o>>2),n+=e.charAt((3&o)<<4),n+="==";break}if(s=t.charCodeAt(r++),r==i){n+=e.charAt(o>>2),n+=e.charAt((3&o)<<4|(240&s)>>4),n+=e.charAt((15&s)<<2),n+="=";break}a=t.charCodeAt(r++),n+=e.charAt(o>>2),n+=e.charAt((3&o)<<4|(240&s)>>4),n+=e.charAt((15&s)<<2|(192&a)>>6),n+=e.charAt(63&a)}return n}),window.atob||(window.atob=function(e){var n,r,i,o,s,a,c;for(a=e.length,s=0,c="";s<a;){do{n=t[255&e.charCodeAt(s++)]}while(s<a&&-1==n);if(-1==n)break;do{r=t[255&e.charCodeAt(s++)]}while(s<a&&-1==r);if(-1==r)break;c+=String.fromCharCode(n<<2|(48&r)>>4);do{if(61==(i=255&e.charCodeAt(s++)))return c;i=t[i]}while(s<a&&-1==i);if(-1==i)break;c+=String.fromCharCode((15&r)<<4|(60&i)>>2);do{if(61==(o=255&e.charCodeAt(s++)))return c;o=t[o]}while(s<a&&-1==o);if(-1==o)break;c+=String.fromCharCode((3&i)<<6|o)}return c})})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{A11yHandler:()=>z,getPageStructureData:()=>re,handlePageStructureAction:()=>ie});const t={CURSOR:"CURSOR",READING_MASK:"READING_MASK",READING_GUIDE:"READING_GUIDE",READING_MODE:"READING_MODE",CONTENT_SCALING:"CONTENT_SCALING",FONT_SIZE:"FONT_SIZE",LETTER_SPACING:"LETTER_SPACING",LINE_SPACING:"LINE_SPACING",TEXT_ALIGNMENT:"TEXT_ALIGNMENT",HIGHLIGHT_LINKS:"HIGHLIGHT_LINKS",FONT_CHANGE:"FONT_CHANGE",HIGHLIGHT_TITLES:"HIGHLIGHT_TITLES",STOP_ANIMATIONS:"STOP_ANIMATIONS",HIDE_IMAGES:"HIDE_IMAGES",MUTE_SOUNDS:"MUTE_SOUNDS",TEXT_MAGNIFIER:"TEXT_MAGNIFIER",SATURATION:"SATURATION",CONTRAST:"CONTRAST",BACKGROUND_COLOR:"BACKGROUND_COLOR",HEADINGS_COLOR:"HEADINGS_COLOR",CONTENT_COLOR:"CONTENT_COLOR",BRIGHTNESS:"BRIGHTNESS",KEYBOARD_NAVIGATION:"KEYBOARD_NAVIGATION"},r={SEIZURE_SAFE:"SEIZURE_SAFE",COLOR_BLIND:"COLOR_BLIND",VISION_IMPAIRED:"VISION_IMPAIRED",ADHD:"ADHD",DYSLEXIA:"DYSLEXIA",COGNITIVE:"COGNITIVE",KEYBOARD_NAVIGATION:"KEYBOARD_NAVIGATION"},i="state",o={[r.SEIZURE_SAFE]:{setConfig:[{prop:t.STOP_ANIMATIONS,params:!0},{prop:t.SATURATION,params:"low"}],resetConfig:[{prop:t.STOP_ANIMATIONS,params:!1},{prop:t.SATURATION}]},[r.COLOR_BLIND]:{setConfig:[{prop:t.CONTENT_SCALING,params:1},{prop:t.SATURATION,params:"high"}],resetConfig:[{prop:t.CONTENT_SCALING,params:0},{prop:t.SATURATION}]},[r.VISION_IMPAIRED]:{setConfig:[{prop:t.CONTENT_SCALING,params:3},{prop:t.SATURATION,params:"high"},{prop:t.FONT_CHANGE,params:"readable"}],resetConfig:[{prop:t.CONTENT_SCALING,params:0},{prop:t.SATURATION},{prop:t.FONT_CHANGE,params:!1}]},[r.ADHD]:{setConfig:[{prop:t.CONTENT_SCALING,params:1},{prop:t.SATURATION,params:"high"},{prop:t.STOP_ANIMATIONS,params:!0},{prop:t.READING_MASK,params:!0}],resetConfig:[{prop:t.CONTENT_SCALING,params:0},{prop:t.SATURATION},{prop:t.STOP_ANIMATIONS,params:!1},{prop:t.READING_MASK,params:!1}]},[r.DYSLEXIA]:{setConfig:[{prop:t.CONTENT_SCALING,params:1},{prop:t.STOP_ANIMATIONS,params:!0},{prop:t.FONT_CHANGE,params:"dyslexic"}],resetConfig:[{prop:t.CONTENT_SCALING,params:0},{prop:t.STOP_ANIMATIONS,params:!1},{prop:t.FONT_CHANGE,params:!1}]},[r.COGNITIVE]:{setConfig:[{prop:t.CONTENT_SCALING,params:1},{prop:t.STOP_ANIMATIONS,params:!0},{prop:t.HIGHLIGHT_TITLES,params:!0},{prop:t.READING_MASK,params:!0}],resetConfig:[{prop:t.CONTENT_SCALING,params:0},{prop:t.STOP_ANIMATIONS,params:!1},{prop:t.HIGHLIGHT_TITLES,params:!1},{prop:t.READING_MASK,params:!1}]},[r.KEYBOARD_NAVIGATION]:{setConfig:[{prop:t.KEYBOARD_NAVIGATION,params:!0}],resetConfig:[{prop:t.KEYBOARD_NAVIGATION,params:!1}]}};var s=n(312);let a="latest";"v"===a.charAt(0)&&(a=a.substr(1));const c="https://widget.clym-sdk.net",l="https://widget-next.clym-sdk.net",u="clym",d=a;function h(e,t){console&&console.warn&&console.warn(`${u}:`,e),t&&h(t)}function p(e){let t="";for(var n=0;n<e;n++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return t}function f(e){let t=[];return Object.keys(e).forEach((n=>{let r=e[n];"100vh"===r&&(r="100dvh"),"100vw"===r&&(r="100dvw"),t.push(n+": "+r)})),t=t.join("; "),t}function m(e,t){e||(e={});let n={width:e.width||"0px !important",height:e.height||"0px !important",margin:e.margin||"0  !important",display:e.display||"block !important","background-color":"transparent !important",position:"relative !important","min-height":"80px !important","min-width":"80px !important"};return de.isWidgetV2&&(n={...n,"min-height":"0 !important","min-width":"0 !important"}),"object"==typeof t&&t&&Object.keys(t).forEach((e=>{n[e]=t[e]})),e.border?(n["border-radius"]="4px !important",n["box-shadow"]="0px 1px 2px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 1px -1px rgba(0, 0, 0, 0.12) !important",n["background-color"]="#fbfbfb !important"):n["border-style"]="none !important",n}function g(e){return s(e)}function y(){return"id-"+Math.random().toString(36).substr(2,9)}const v=function(){var e=Math.floor(1000001*Math.random()),t={};function n(e){return Array.isArray?Array.isArray(e):-1!=e.constructor.toString().indexOf("Array")}var r={},i=function(e){try{var n=JSON.parse(e.data);if("object"!=typeof n||null===n)throw"malformed"}catch(e){return}var i,o,s,a=e.source,c=e.origin;if("string"==typeof n.method){var l=n.method.split("::");2==l.length?(i=l[0],s=l[1]):s=n.method}if(void 0!==n.id&&(o=n.id),"string"==typeof s){var u=!1;if(t[c]&&t[c][i])for(var d=0;d<t[c][i].length;d++)if(t[c][i][d].win===a){t[c][i][d].handler(c,s,n),u=!0;break}if(!u&&t["*"]&&t["*"][i])for(d=0;d<t["*"][i].length;d++)if(t["*"][i][d].win===a){t["*"][i][d].handler(c,s,n);break}}else void 0!==o&&r[o]&&r[o](c,s,n)};return window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent&&window.attachEvent("onmessage",i),{build:function(i){var o=function(e){if(i.debugOutput&&window.console&&window.console.log){try{"string"!=typeof e&&(e=JSON.stringify(e))}catch(e){}window.console.log("["+c+"] "+e)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof i)throw"Channel build invoked without a proper object argument";if(!i.window||!i.window.postMessage)throw"Channel.build() called without a valid window argument";window===i.window&&o("target window is same as present window -- use at your own risk");var s,a=!1;if("string"==typeof i.origin&&("*"===i.origin?a=!0:null!==(s=i.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(i.origin=s[0].toLowerCase(),a=!0)),!a)throw"Channel.build() called with an invalid origin";if(void 0!==i.scope){if("string"!=typeof i.scope)throw"scope, when specified, must be a string";if(i.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}else i.scope="__default";var c=function(){for(var e="",t=0;t<5;t++)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}(),l={},u={},d={},h=!1,p=[],f=[],m=function(e,t,s){if("function"==typeof i.gotMessageObserver)try{i.gotMessageObserver(e,s)}catch(e){o("gotMessageObserver() raised an exception: "+e.toString())}if(s.id&&t){d[s.id]={};var a=function(e,t,n){var r=!1,i=!1;return{origin:t,invoke:function(t,r){if(!d[e])throw"attempting to invoke a callback of a nonexistent transaction: "+e;for(var i=!1,o=0;o<n.length;o++)if(t===n[o]){i=!0;break}if(!i)throw"request supports no such callback '"+t+"'";y({id:e,callback:t,params:r})},error:function(t,n){if(i=!0,!d[e])throw"error called for nonexistent message: "+e;delete d[e],y({id:e,error:t,message:n})},complete:function(t){if(i=!0,!d[e])throw"complete called for nonexistent message: "+e;delete d[e],y({id:e,result:t})},delayReturn:function(e){return"boolean"==typeof e&&(r=!0===e),r},completed:function(){return i}}}(s.id,e,s.callbacks?s.callbacks:[]);if(l[t])try{if(s.callbacks&&n(s.callbacks)&&s.callbacks.length>0)for(var c=0;c<s.callbacks.length;c++){for(var h=s.callbacks[c],p=s.params,f=h.split("/"),m=0;m<f.length-1;m++){var g=f[m];"object"!=typeof p[g]&&(p[g]={}),p=p[g]}p[f[f.length-1]]=function(){var e=h;return function(t){return a.invoke(e,t)}}()}var v=l[t](a,s.params);a.delayReturn()||a.completed()||a.complete(v)}catch(e){var b="runtime_error",w=null;if("string"==typeof e?w=e:"object"==typeof e&&(e instanceof Error?(b=e.constructor.name,w=e.message):e&&n(e)&&2==e.length?(b=e[0],w=e[1]):"string"==typeof e.error&&(b=e.error,e.message?"string"==typeof e.message?w=e.message:e=e.message:w="")),null===w)try{void 0===(w=JSON.stringify(e))&&(w=e.toString())}catch(t){w=e.toString()}a.error(b,w)}else a.error("method_not_found","No method '"+t+"' was (yet) bound by the provider")}else s.id&&s.callback?u[s.id]&&u[s.id].callbacks&&u[s.id].callbacks[s.callback]?u[s.id].callbacks[s.callback](s.params):o("ignoring invalid callback, id:"+s.id+" ("+s.callback+")"):s.id?u[s.id]?(s.error?u[s.id].error&&u[s.id].error(s.error,s.message):void 0!==s.result?u[s.id].success(s.result):u[s.id].success(),delete u[s.id],delete r[s.id]):o("ignoring invalid response: "+s.id):t&&l[t]&&l[t]({origin:e},s.params)};!function(e,n,r,i){function o(t){for(var n=0;n<t.length;n++)if(t[n].win===e)return!0;return!1}var s=!1;if("*"===n){for(var a in t)if(t.hasOwnProperty(a)&&"*"!==a&&"object"==typeof t[a][r]&&(s=o(t[a][r])))break}else t["*"]&&t["*"][r]&&(s=o(t["*"][r])),!s&&t[n]&&t[n][r]&&(s=o(t[n][r]));if(s)throw"A channel is already bound to the same window which overlaps with origin '"+n+"' and has scope '"+r+"'";"object"!=typeof t[n]&&(t[n]={}),"object"!=typeof t[n][r]&&(t[n][r]=[]),t[n][r].push({win:e,handler:i})}(i.window,i.origin,i.scope,m);var g=function(e){return[i.scope,e].join("::")},y=function(e,t){if(!e)throw"postMessage called with null message";if(t||h){if("function"==typeof i.postMessageObserver)try{i.postMessageObserver(i.origin,e)}catch(e){o("postMessageObserver() raised an exception: "+e.toString())}o("post message: "+JSON.stringify(e)+" with origin "+i.origin),i.window.postMessage(JSON.stringify(e),i.origin)}else o("queue message: "+JSON.stringify(e)),p.push(e)},v=function(e,t){var n;e=[].concat(e);for(var r=0;r<e.length;r++)t[n=e[r].toString()]=function(e){return function(t,n,r){n?b.call({method:e,params:t,success:n,error:r}):b.notify({method:e,params:t})}}(n)},b={remote:{},unbind:function(e,t){if(l[e]){if(!delete l[e])throw"can't delete method: "+e;return i.publish&&!t&&(h?b.notify({method:"__unbind",params:e}):f.push({action:"unbind",method:e})),!0}return!1},bind:function(e,t,n){if(!e||"string"!=typeof e)throw"'method' argument to bind must be string";if(!t||"function"!=typeof t)throw"callback missing from bind params";if(l[e])throw"method '"+e+"' is already bound!";return l[e]=t,i.publish&&!n&&(h?b.notify({method:"__bind",params:e}):f.push({action:"bind",method:e})),this},call:function(t){if(!t)throw"missing arguments to call function";if(!t.method||"string"!=typeof t.method)throw"'method' argument to call must be string";if(!t.success||"function"!=typeof t.success)throw"'success' callback missing from call";var n={},i=[],o=[],s=function(e,t){if(o.indexOf(t)>=0)throw"params cannot be a recursive data structure";if(t&&o.push(t),"object"==typeof t)for(var r in t)if(t.hasOwnProperty(r)){var a=e+(e.length?"/":"")+r;"function"==typeof t[r]?(n[a]=t[r],i.push(a),delete t[r]):"object"==typeof t[r]&&s(a,t[r])}};s("",t.params);var a,c,l,d={id:e,method:g(t.method),params:t.params};i.length&&(d.callbacks=i),t.timeout&&(a=e,c=t.timeout,l=g(t.method),window.setTimeout((function(){if(u[a]){var e="timeout ("+c+"ms) exceeded on method '"+l+"'";u[a].error&&u[a].error("timeout_error",e),delete u[a],delete r[a]}}),c)),u[e]={callbacks:n,error:t.error,success:t.success},r[e]=m,e++,y(d)},notify:function(e){if(!e)throw"missing arguments to notify function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to notify must be string";y({method:g(e.method),params:e.params})},destroy:function(){!function(e,n,r){for(var i=t[n][r],o=0;o<i.length;o++)i[o].win===e&&i.splice(o,1);0===t[n][r].length&&delete t[n][r]}(i.window,i.origin,i.scope),window.removeEventListener?window.removeEventListener("message",m,!1):window.detachEvent&&window.detachEvent("onmessage",m),h=!1,l={},d={},u={},i.origin=null,p=[],o("channel destroyed"),c=""}};return b.bind("__ready",(function(e,t){if(o("ready msg received"),h&&!i.reconnect)throw"received ready message while in ready state.";h=!0,c.length<6&&("publish-request"===t.type?c+="-R":c+="-L"),o("ready msg accepted."),"publish-request"===t.type&&b.notify({method:"__ready",params:{type:"publish-reply",publish:f}});for(var n=0;n<t.publish.length;n++)"bind"===t.publish[n].action?v([t.publish[n].method],b.remote):delete b.remote[t.publish[n].method];for(i.reconnect||b.unbind("__ready",!0);p.length;)y(p.splice(0,1)[0]);f=[],"function"==typeof i.onReady&&i.onReady(b)}),!0),b.bind("__bind",(function(e,t){v([t],b.remote)}),!0),b.bind("__unbind",(function(e,t){b.remote[t]&&delete b.remote[t]}),!0),i.remote&&v(i.remote,b.remote),setTimeout((function(){c.length>0&&y({method:g("__ready"),params:{type:"publish-request",publish:f}},!0)}),0),b}}}();var b=n(790);const w="clym_privacy";let E=!1;async function I(){try{E=await b.createInstance({name:"clymio_host",version:1,storeName:"clymio_host"})}catch(e){console.log("Can't init forage: ",e)}}async function S(e){try{if(E||await I(),"string"==typeof e&&e){let t={s:e};t=JSON.stringify(t),await E.setItem(w,t)}else await E.removeItem(w)}catch(e){}}const A=[];async function _(e,t,n){let r=[];for(let i=0;i<A.length;i++){const o=A[i];if(!n||o.type===n)try{let i=await o.send(e,t);if(n)return i;r.push(i)}catch(e){console.log("Clym:",e)}}return r}const N=["sid"],C={},T=b.createInstance({name:"clym_widget_by_host",version:2,storeName:"clymio_"});let O=null,L={};const R=b.createInstance({name:"accessibility",version:1,PREFIX:"clym"});async function D(e){try{let t=e;if(!(e=k(e)))return;let n=await T.getItem(e);return void 0===n?null:(void 0===L[t]&&M(e,n),n)}catch(e){return null}}R.setDriver(b.LOCALSTORAGE);let x=null;async function G(){x&&clearTimeout(x);let e=[];try{let t=await T.keys();for(let n=0,r=t.length;n<r;n++){let r=t[n];if(0!==r.indexOf(O+":"))continue;let i=await T.getItem(r),o=H(i);r=r.split(":")[1],L[r]!==o&&(e.push({key:r,data:i}),L[r]=o)}}catch(e){}for(let t=0;t<e.length;t++)V(e[t].key,e[t].data);x=setTimeout(G,600)}function V(e,t){if(C[e])for(let n=0,r=C[e].length;n<r;n++)C[e][n](t)}let P=!0;function k(e){return-1!==N.indexOf(e)?e:O?0===e.indexOf(O+":")?e:O+":"+e:null}function M(e,t){if(-1!==N.indexOf(e))return;if(!O||0!==e.indexOf(O+":"))return;if(e=e.split(":")[1],null==t)return void(L[e]&&delete L[e]);try{t=JSON.stringify(t)}catch(e){return}let n=g(t);L[e]=n}function H(e){try{return g(e=JSON.stringify(e))}catch(e){return null}}let B={};const U="data-ps-id";R.getItem(i).then((e=>{B=e}));const j={[t.HIGHLIGHT_LINKS]:"clym-highlight-links",[t.HIGHLIGHT_TITLES]:"clym-highlight-titles",[t.HEADINGS_COLOR]:"clym-headings-color",[t.BACKGROUND_COLOR]:"clym-background-color",[t.CONTENT_COLOR]:"clym-content-color",[t.HIDE_IMAGES]:"clym-hide-images",[t.STOP_ANIMATIONS]:"clym-stop-animations",[t.CURSOR]:"clym-custom-cursor",[t.FONT_CHANGE]:"clym-font-change",[t.LINE_SPACING]:"clym-line-spacing",[t.LETTER_SPACING]:"clym-letter-spacing",[t.FONT_SIZE]:"clym-font-size-increase",[t.SATURATION]:"clym-contrast",[t.CONTENT_SCALING]:"clym-content-scaling",[t.READING_MODE]:"clym-reading-mode",[t.TEXT_ALIGNMENT]:"clym-text-alignment",[t.BRIGHTNESS]:"clym-brightness"},F={[t.HEADINGS_COLOR]:e=>`.${j[t.HEADINGS_COLOR]} h1, .${j[t.HEADINGS_COLOR]} h2, .${j[t.HEADINGS_COLOR]} h3, .${j[t.HEADINGS_COLOR]} h4, .${j[t.HEADINGS_COLOR]} h5, .${j[t.HEADINGS_COLOR]} h6, .${j[t.HEADINGS_COLOR]} h5, .${j[t.HEADINGS_COLOR]} [role=heading] { color: ${e} !important;}`,[t.CONTENT_COLOR]:e=>`.${j[t.CONTENT_COLOR]} div, .${j[t.CONTENT_COLOR]} p, .${j[t.CONTENT_COLOR]} li { color: ${e} !important; } .${j[t.CONTENT_COLOR]} { color: ${e} !important; }`,[t.BACKGROUND_COLOR]:e=>`.${j[t.BACKGROUND_COLOR]} {\n      background-color: ${e} !important;\n      background: ${e} !important;\n    }`,[t.HIGHLIGHT_TITLES]:()=>`.${j[t.HIGHLIGHT_TITLES]} h1, .${j[t.HIGHLIGHT_TITLES]} h2, .${j[t.HIGHLIGHT_TITLES]} h3, .${j[t.HIGHLIGHT_TITLES]} h4, .${j[t.HIGHLIGHT_TITLES]} h5, .${j[t.HIGHLIGHT_TITLES]} h6 { outline: 2px solid #639af9 !important; outline-offset: 2px !important; margin: 4px !important; }`,[t.HIGHLIGHT_LINKS]:()=>`.${j[t.HIGHLIGHT_LINKS]} a { outline: 2px solid rgba(255,114,22,.5) !important; outline-offset: 2px !important; margin: 4px !important; }`,[t.HIDE_IMAGES]:()=>`.${j[t.HIDE_IMAGES]} img, .${j[t.HIDE_IMAGES]} video { opacity:0 !important; visibility:hidden !important }, .${j[t.HIDE_IMAGES]} * {background-image:none !important; }`,[t.STOP_ANIMATIONS]:()=>`.${j[t.STOP_ANIMATIONS]} * {\n      transition: none !important;\n      animation-play-state: paused;\n    }`,[t.CURSOR]:e=>{const n="black"===e?"https://clym-demo.vercel.app/images/cursors/bigblackcursor.svg":"https://clym-demo.vercel.app/images/cursors/bigwhitecursor.svg";return`.${j[t.CURSOR]} * {\n        cursor: url(${n}),auto!important;\n      }`},[t.FONT_CHANGE]:e=>{if(e)return`.${j[t.FONT_CHANGE]} * {\n        font-family: ${{readable:"Arial,Helvetica,sans-serif",dyslexic:"OpenDyslexic"}[e]},Arial,Helvetica,sans-serif !important;\n      }`},[t.SATURATION]:e=>{let n="";return"dark-contrast"===e?n=`\n        body.${j[t.SATURATION]},\n        body.${j[t.SATURATION]} *${K}\n         {\n          color:#fff !important;\n          background-color:#1f2533 !important;\n          background: #1f2533 !important;\n        }\n      `:"light-contrast"===e&&(n=`\n        body.${j[t.SATURATION]},\n        body.${j[t.SATURATION]} *${K} {\n          color: #1f2533 !important;\n          background-color: #fff !important;\n          background: #fff !important;\n        }\n      `),n+=`\n      body.${j[t.SATURATION]} img {\n        background: rgba(255,255,255,.75) !important;\n      }\n    `,n},[t.CONTENT_SCALING]:e=>{const n=(100+e)/100||1;return`body.${j[t.CONTENT_SCALING]} *${K}:not(.clym-widget) {\n      zoom: ${n};\n    }`},[t.READING_MODE]:()=>`\n    body.${j[t.READING_MODE]} {\n      overflow: hidden;\n    }\n    body.${j[t.READING_MODE]} #clym-readingmode-wrapper #clym-readingmode-container {\n      max-width: 600px;\n      padding: 0 10px;\n      margin: auto;\n    }\n    body.${j[t.READING_MODE]} #clym-readingmode-wrapper {\n      all: initial; /* This resets most of the inherited properties */\n      box-sizing: border-box !important;\n      display: block !important;\n      height: auto !important;\n      padding: 50px;\n      background: #fafbff;\n      font-size: 15px;\n      color: #222;\n      line-height: 1.5;\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 9999999;\n      overflow: scroll;\n    }\n    body.${j[t.READING_MODE]} #clym-readingmode-wrapper * {\n      font-family: Arial,Helvetica,sans-serif;\n    }\n    body.${j[t.READING_MODE]}.${j[t.BACKGROUND_COLOR]} #clym-readingmode-wrapper  {\n      background: inherit;\n    }\n    body.${j[t.READING_MODE]}.${j[t.TEXT_ALIGNMENT]} #clym-readingmode-wrapper {\n      text-align: inherit;\n    }\n    body.${j[t.READING_MODE]}.${j[t.FONT_CHANGE]} #clym-readingmode-wrapper * {\n      font-family: inherit !important;\n    }\n    body.${j[t.READING_MODE]} #clym-readingmode-wrapper a {\n      color: #146ff8;\n      text-decoration: none;\n    }\n    body.${j[t.READING_MODE]} #clym-readingmode-wrapper img {\n      display: block;\n      background: rgba(0,0,0,.3) !important;\n    }\n    body.${j[t.READING_MODE]} #clym-readingmode-wrapper-close {\n      position: fixed;\n      top: 10px;\n      right: 20px;\n      cursor: pointer;\n      font-size: 42px;\n      padding: 5px 10px;\n      line-height: 1;\n    }\n    body.${j[t.READING_MODE]} #clym-readingmode-wrapper-close:focus-visible {\n      outline: 2px solid #146ff8;\n    }\n    `,[t.TEXT_ALIGNMENT]:e=>`body.${j[t.TEXT_ALIGNMENT]} {\n      text-align: ${e??"initial"};\n    }`,[t.BRIGHTNESS]:e=>`html:has(> body.${j[t.BRIGHTNESS]}) {\n      filter: brightness(${{1:.9,2:.8,3:.7,4:.6,5:.4}[e]??1});\n    }`},$={[t.CONTENT_SCALING]:e=>{window.document.body.style.zoom=(100+e)/100||1,document.querySelectorAll(".clym-widget-iframe").forEach((e=>{e.style.zoom=1}))},[t.TEXT_ALIGNMENT]:e=>{e||(window.document.body.style.textAlign="initial"),window.document.body.style.textAlign=e},[t.READING_GUIDE]:e=>{const t="clym-reading-guide";var n=document.getElementById(t);const r=e=>{n.style.left=e.clientX-250+"px",n.style.top=e.clientY+"px",n.zoom="1 !important"};null===n?((n=document.createElement("div")).setAttribute("id",t),document.body.appendChild(n),document.addEventListener("mousemove",r)):e?(n.style.visibility="visible",document.addEventListener("mousemove",r)):(n.style.visibility="hidden",document.removeEventListener("mousemove",r))},[t.READING_MASK]:e=>{const t="clym-reading-mask";let n=[...document.getElementsByClassName(t)];if(!n.length){const e=t+"-top",r=t+"-bottom",i=document.createElement("div");i.classList.add(t,e),document.body.appendChild(i);const o=document.createElement("div");o.classList.add(t,r),document.body.appendChild(o),n=[i,o]}const[r,i]=n,o=e=>{r.style.height=Math.max(e.clientY-75,0)+"px",i.style.height=Math.max(window.innerHeight-e.clientY-75,0)+"px"};e?(r.style.visibility="visible",i.style.visibility="visible",document.addEventListener("mousemove",o)):(r.style.visibility="hidden",i.style.visibility="hidden",document.removeEventListener("mousemove",o))},[t.SATURATION]:e=>{if(!e||["dark-contrast","light-contrast"].includes(e))return void(document.getElementsByTagName("html")[0].style.filter="unset");if("high-contrast"===e){const e=135;return void(document.getElementsByTagName("html")[0].style.filter=`contrast(${e}%)`)}let t;"low"===e&&(t=.5),"high"===e&&(t="200%"),"mono"===e&&(t=0),"high-contrast"===e&&(contrastValue=0),document.getElementsByTagName("html")[0].style.filter=`saturate(${t})`},[t.MUTE_SOUNDS]:(e=!1)=>{[...document.querySelectorAll("audio, video")].forEach((t=>function(t){e?(t.muted=!0,t.pause()):t.muted=!1}(t)))},[t.FONT_SIZE]:e=>W(t.FONT_SIZE,e),[t.LETTER_SPACING]:e=>W(t.LETTER_SPACING,e),[t.LINE_SPACING]:e=>W(t.LINE_SPACING,e),[t.TEXT_MAGNIFIER]:e=>{q(document.body).forEach((t=>{e?(t.addEventListener("mouseenter",J),t.addEventListener("mouseleave",J)):(t.removeEventListener("mouseenter",J),t.removeEventListener("mouseleave",J))}))},[t.READING_MODE]:({isActive:e,onCloseClick:t})=>{if(e){const e=Y(document.body);let n=document.createElement("div");n.id="clym-readingmode-wrapper",n.appendChild(e),document.body.appendChild(n);let r=document.createElement("div");r.id="clym-readingmode-wrapper-close",r.textContent="✕",r.setAttribute("title","Exit reading mode"),r.setAttribute("tabIndex",0),r.onclick=t,r.onkeyup=e=>{"Enter"===e.key&&t()},document.getElementById("clym-readingmode-container").prepend(r)}else{const e=document.getElementById("clym-readingmode-wrapper");e&&e.remove()}},[t.KEYBOARD_NAVIGATION]:e=>{e?(te.addBinding("m",ne.m),te.addBinding("h",ne.h),te.addBinding("f",ne.f),te.addBinding("b",ne.b),te.addBinding("g",ne.g),Q(document.body)):(te.removeBinding("m",ne.m),te.removeBinding("h",ne.h),te.removeBinding("f",ne.f),te.removeBinding("b",ne.b),te.removeBinding("g",ne.g))}};class z{constructor(e){var t;this.state=B||{profile:"",adjustments:{}},this.bodyClassName="",this.appliedBodyProps=[],this.head=window.document.head||document.getElementsByTagName("head"),this.setAdjustmentsByConfig((t=this.state).adjustments?Object.keys(t.adjustments).map((e=>({prop:e,params:t.adjustments[e]}))):[]),this.addHeadStyleTagWithCss(`\n    @font-face {\n      font-family: 'OpenDyslexic';\n      font-weight: 400;\n      font-style: normal;\n      src: url("https://clym-demo.vercel.app/fonts/opendyslexic/OpenDyslexic-Regular.woff2") format('woff2');\n    }\n    @font-face {\n      font-family: 'OpenDyslexic';\n      font-weight: 700;\n      font-style: normal;\n      src: url("https://clym-demo.vercel.app/fonts/opendyslexic/OpenDyslexic-Bold.woff2") format('woff2');\n    }\n\n    #clym-reading-guide {\n      display:block !important;\n      position:fixed;\n      top:0;\n      left:auto;\n      right:auto;\n      width:90%;\n      max-width:500px;\n      height:12px;\n      margin:auto;\n      z-index:10000000000000000000000;\n      background: ${e.brandColor};\n      border:solid 3px #1f2533;\n      pointer-events:none;\n      border-radius:2px;\n      zoom: 1 !important;\n    }\n\n    .clym-reading-mask {\n      display: block !important;\n      position: fixed;\n      left:0;\n      right:0;\n      top:0;\n      margin:auto;\n      width:100%;\n      pointer-events:none;\n      z-index:10000000000000000000000;\n      background-color: rgba(0,0,0,.5);\n      zoom: 1 !important;\n    }\n    .clym-reading-mask-top {\n      top:0;\n      bottom:auto;\n    }\n    .clym-reading-mask-bottom {\n      top:auto;\n      bottom:0;\n    }\n\n    body span.clym-tooltip {\n      position: absolute;\n      line-height: 1.2;\n      padding: 8px 17px;\n      max-width: 500px;\n      font-family: Arial,Helvetica,sans-serif !important;\n      font-size: 13px;\n      border-radius: 5px;\n      color: #fff;\n      pointer-events: none;\n      user-select: none;\n      background-color: rgba(0,0,0,.8);\n      z-index: 10000000000000000000000;\n    }\n\n    body *.clym-focus-visible {\n      outline: 3px solid #146ff8 !important;\n      outline-offset: 3px !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n    }\n\n    body *.clym-inner-focus {\n      outline-offset: -3px !important;\n      border: solid 3px #146ff8 !important;\n    }\n\n    @media only screen and (max-width: 600px) {\n      body span.clym-tooltip {\n        display: none !important;\n      }\n      body .clym-reading-mask {\n        display: none !important;\n      }\n\n      body #clym-reading-guide {\n        display: none !important;\n      }\n    }\n    `,"clym-initial-styles")}getState(){return this.state}getBodyClassName(){}setState(e){return this.state={...e},_("accessibility.syncState",{payload:e},"widget"),R.setItem(i,this.state),this.getState()}setAdjustment(e,n){if(!e)return;e===t.CONTENT_SCALING&&this.applyBodyClassName(t.CONTENT_SCALING,n),e===t.TEXT_ALIGNMENT&&this.applyBodyClassName(t.TEXT_ALIGNMENT,n),e===t.SATURATION&&(this.applyGlobalStyle(t.SATURATION,n),this.applyBodyClassName(t.SATURATION,n)),e===t.CURSOR&&this.applyBodyClassName(t.CURSOR,n),e===t.HEADINGS_COLOR&&this.applyBodyClassName(t.HEADINGS_COLOR,n),e===t.BACKGROUND_COLOR&&this.applyBodyClassName(t.BACKGROUND_COLOR,n),e===t.CONTENT_COLOR&&this.applyBodyClassName(t.CONTENT_COLOR,n),e===t.READING_MODE&&(this.applyBodyClassName(t.READING_MODE,n),this.applyGlobalStyle(t.READING_MODE,{isActive:n,onCloseClick:()=>{this.setAdjustment(t.READING_MODE,!1)}})),e===t.HIGHLIGHT_TITLES&&this.applyBodyClassName(t.HIGHLIGHT_TITLES),e===t.HIGHLIGHT_LINKS&&this.applyBodyClassName(t.HIGHLIGHT_LINKS),e===t.HIDE_IMAGES&&this.applyBodyClassName(t.HIDE_IMAGES),e===t.MUTE_SOUNDS&&this.applyGlobalStyle(t.MUTE_SOUNDS,n),e===t.STOP_ANIMATIONS&&this.applyBodyClassName(t.STOP_ANIMATIONS),e===t.READING_GUIDE&&this.applyGlobalStyle(t.READING_GUIDE,n),e===t.READING_MASK&&this.applyGlobalStyle(t.READING_MASK,n),e===t.FONT_CHANGE&&this.applyBodyClassName(t.FONT_CHANGE,n),e===t.FONT_SIZE&&this.applyGlobalStyle(t.FONT_SIZE,n),e===t.LETTER_SPACING&&this.applyGlobalStyle(t.LETTER_SPACING,n),e===t.LINE_SPACING&&this.applyGlobalStyle(t.LINE_SPACING,n),e===t.TEXT_MAGNIFIER&&this.applyGlobalStyle(t.TEXT_MAGNIFIER,n),e===t.KEYBOARD_NAVIGATION&&this.applyGlobalStyle(t.KEYBOARD_NAVIGATION,n),e===t.BRIGHTNESS&&this.applyBodyClassName(t.BRIGHTNESS,n);const r={...this.state,adjustments:{...this.state.adjustments}};n?r.adjustments[e]=n:delete r.adjustments[e],this.setState(r)}setAdjustmentsByConfig(e){e.map((e=>{const{prop:t,params:n}=e;this.setAdjustment(t,n)}))}setProfile(e){if(!e||!r.hasOwnProperty(e)||!o.hasOwnProperty(e))return;let t=[];const n=this.state.profile;n&&(t=o[n].resetConfig);const i=(s=[...t,...o[e].setConfig],[...new Map(s.map((e=>[e.prop,e]))).values()]);var s;this.setAdjustmentsByConfig(i),this.setState({...this.state,profile:e})}unsetProfile(e,t){const n=t||o[e].resetConfig;this.setAdjustmentsByConfig(n),this.setState({adjustments:{...this.state.adjustments}})}syncWidgetData(e,n){if("mouseover"===e.type){const i=e.payload;if(n&&e.payload?.from_frame)try{let e=n.getBoundingClientRect();i.clientY+=e.top,i.clientX+=e.x}catch(e){}if(this.state.adjustments[t.READING_MASK]){const e="clym-reading-mask";let t=[...document.getElementsByClassName(e)];if(t.length){const[e,n]=t;e.style.height=Math.max(i.clientY-75,0)+"px",n.style.height=Math.max(window.innerHeight-i.clientY-75,0)+"px"}}if(this.state.adjustments[t.READING_GUIDE]){const t=e.payload,n="clym-reading-guide";var r=document.getElementById(n);r.style.left=t.clientX-250+"px",r.style.top=t.clientY+"px",r.zoom="1 !important"}}}addHeadStyleTagWithCss(e,t){e&&this.head.insertAdjacentHTML("beforeend",`<style id='${t||""}'>${e}</style>`)}triggerChange(e){const{actionType:t,payload:n}=e;if(t&&n)if("PROFILE"===t){const{profile:e}=n;this.state.profile===e?this.unsetProfile(e):this.setProfile(e)}else if("ADJUSTMENT"===t){const{prop:e,params:t}=n;this.setAdjustment(e,t),this.getState()}}applyGlobalStyle(e,t){(e||$.hasOwnProperty(e))&&(0,$[e])(t)}applyBodyClassName(e,n){if(!e&&!j.hasOwnProperty(e))return;const r=(0,F[e])(n),i="style--"+e+(n?"--"+n:""),o=[...document.getElementsByTagName("style")].find((t=>t.id.includes(e)));o?n&&(o.remove(),this.addHeadStyleTagWithCss(r,i)):this.addHeadStyleTagWithCss(r,i);const s=t=>window.document.body.classList.toggle(`${j[e]}`,t);[t.HIDE_IMAGES,t.MUTE_SOUNDS,t.HIGHLIGHT_TITLES,t.HIGHLIGHT_LINKS,t.STOP_ANIMATIONS].includes(e)?s():s(!!n)}}function W(e,n){q(document.body).forEach(((r,i)=>{if(e===t.FONT_SIZE){r.getAttribute("data-initial-font-size")||r.setAttribute("data-initial-font-size",window.getComputedStyle(r,null).getPropertyValue("font-size"));const e=r.getAttribute("data-initial-font-size");if(n){var o=parseFloat(e)*((10+n)/10||1);r.style.fontSize=o+"px"}else r.style.fontSize=parseFloat(e)+"px",r.removeAttribute("data-initial-font-size")}if(e===t.LETTER_SPACING){r.getAttribute("data-initial-letter-spacing")||r.setAttribute("data-initial-letter-spacing",window.getComputedStyle(r,null).getPropertyValue("letter-spacing"));const e=r.getAttribute("data-initial-letter-spacing"),t=isNaN(e)?1:parseFloat(e);if(n){var s=parseFloat(t)*((10+n)/10||1);r.style.letterSpacing=s+"px"}else r.style.letterSpacing=e,r.removeAttribute("data-initial-letter-spacing")}if(e===t.LINE_SPACING){r.getAttribute("data-initial-line-spacing")||r.setAttribute("data-initial-line-spacing",window.getComputedStyle(r,null).getPropertyValue("line-height"));const e=r.getAttribute("data-initial-line-spacing");if(n){var a=parseFloat(e)*((10+n)/10||1);r.style.lineHeight=a+"px"}else r.style.lineHeight=e,r.removeAttribute("data-initial-line-spacing")}}))}var K=":not(#clym-reading-guide):not(.clym-reading-mask):not(.clym-tooltip)";function J(e){if(e.preventDefault(),"mouseenter"===e.type){const t=document.createElement("span");t.classList.add("clym-tooltip"),t.innerText=e.target.innerText,t.style.top=e.pageY+"px",t.style.left=e.pageX+"px",t.style.fontSize="30px",document.body.appendChild(t)}if("mouseleave"===e.type){const e=document.getElementsByClassName("clym-tooltip")[0];e&&e.remove()}}function Y(e){if(!e)return null;if(e.nodeType===Node.TEXT_NODE&&""!==e.textContent.trim())return e.cloneNode();if(e.nodeType===Node.ELEMENT_NODE){if(["SCRIPT","INPUT","TEXTAREA","BUTTON","FORM"].includes(e.tagName))return null;if("LI"===e.tagName&&(""===e.textContent.trim()||"tab"===e.getAttribute("role")))return null;if("A"===e.tagName&&(e.getAttribute("href")&&e.getAttribute("href").startsWith("#")||e.getAttribute("href")&&""===e.getAttribute("href").trim()||"button"===e.getAttribute("role")))return null;let t;t="BODY"===e.tagName?document.createElement("div"):e.cloneNode();let n=!1;for(let r of e.childNodes){let e=Y(r);e&&(n=!0,t.appendChild(e))}if(n||""!==e.textContent.trim()&&t.childNodes.length>0){if(t.removeAttribute("class"),t.removeAttribute("id"),t.removeAttribute("style"),"BODY"===e.tagName){let e=document.createElement("div");return e.id="clym-readingmode-container",e.appendChild(t),e}return t}return null}return null}function q(e){let t=[];if(!e)return[];if(e.nodeType===Node.ELEMENT_NODE)for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(r.nodeType===Node.TEXT_NODE&&""!==r.textContent.trim()){t.push(e);break}}for(let n=0;n<e.childNodes.length;n++)t=t.concat(q(e.childNodes[n]));return t}function Q(e){!function(e){const t=e.tagName.toLowerCase();"nav"===t&&X.menus.push(e),["h1","h2","h3","h4","h5","h6"].includes(t)&&X.headings.push(e),"form"===t&&X.forms.push(e),"button"===t&&X.buttons.push(e),["img","video"].includes(t)&&X.graphics.push(e)}(e);for(const t of e.children)Q(t)}var X={menus:[],headings:[],forms:[],buttons:[],graphics:[]};function Z(e,t){const n=X[e],r=n.indexOf(document.activeElement);let[i]=n;if(-1!==r){let e;e=t?(r+1)%n.length:(r-1+n.length)%n.length,ee(n[e])}else ee(i)}function ee(e){if(!e)return;const t="data-prev-tabindex";e.classList.add("clym-focus-visible"),"img"===e.tagName.toLowerCase()&&e.classList.add("clym-inner-focus");const n=e.getAttribute("tabindex");n&&"-1"!==n&&e.setAttribute(t,n),e.setAttribute("tabindex","-1"),e.focus(),e.addEventListener("focusout",(n=>{if(!e&&!e.classList.contains("clym-focus-visible"))return;e.classList.remove("clym-focus-visible","clym-inner-focus");const r=e.getAttribute(t);r?(e.setAttribute("tabindex",r),e.removeAttribute(t)):e.removeAttribute("tabindex")}),{once:!0})}const te={bindings:[],addBinding(e,t){const n={keyCombo:e,action:t};this.bindings.push(n),window.addEventListener("keydown",this.handleKeydown)},removeBinding(e,t){this.bindings=this.bindings.filter((n=>!(n.keyCombo===e&&n.action===t))),0===this.bindings.length&&window.removeEventListener("keydown",this.handleKeydown)},handleKeydown(e){const t=e.key.toLowerCase(),n=/[a-z]/.test(e.key),r=[t].join("+"),i=te.bindings.find((e=>e.keyCombo===r));i&&(i.action(n),e.preventDefault())}};var ne={m:e=>{Z("menus",e)},h:e=>{Z("headings",e)},f:e=>{Z("forms",e)},b:e=>{Z("buttons",e)},g:e=>{Z("graphics",e)}};function re(){const e=document.body,t=e.querySelectorAll('footer, section, form, nav, main, header, aside, [role="main"], [role="banner"], [role="complementary"], [role="contentinfo"], [role="navigation"]'),n=e.querySelectorAll('h1, h2, h3, h4, h5, h6, [role="heading"]'),r=e.querySelectorAll("a"),i=[],o=[],s=[],a=[],c=[];function l(e){return e.replace(/\s+/g," ").trim()}return n.forEach((e=>{const t=e.tagName.startsWith("H")?parseInt(e.tagName.slice(1),10):parseInt(e.getAttribute("aria-level"))||2,n="none"===window.getComputedStyle(e).display||e.hidden,r=y();e.setAttribute(U,r);const o={id:r,tag:e.tagName.startsWith("H")?e.tagName.toLowerCase():`h${t}`,content:l(e.textContent)};for(n&&(o.isHidden=!0);a.length&&a[a.length-1].level>=t;)a.pop();a.length?(a[a.length-1].item.items||(a[a.length-1].item.items=[]),a[a.length-1].item.items.push(o)):i.push(o),a.push({level:t,item:o})})),r.forEach((e=>{const t=e.href||"";if(function(e){try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}}(t)){const n=l(e.textContent)||e.getAttribute("aria-label")||"";if(n){const r=y(),i={id:r,content:n,href:t,isExternal:"_blank"===e.target||e.rel.includes("external")};e.setAttribute(U,r),o.push(i)}}})),t.forEach((e=>{const t=e.tagName.toLowerCase(),n=e.getAttribute("role")||"",r=e.getAttribute("aria-label")||"",i=y();e.setAttribute(U,i);const o={id:i,tag:t,role:n||("nav"===t?"navigation":""),label:r,items:[]};for(;c.length&&!c[c.length-1].element.contains(e);)c.pop();c.length?c[c.length-1].item.items.push(o):s.push(o),c.push({element:e,item:o})})),{headingData:i,linksData:o,landmarkData:s}}function ie(e,t){if(["heading","landmark"].includes(t)){const t=document.querySelector(`[${U}="${e}"]`);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())}if("link"===t){const t=document.querySelector(`[${U}="${e}"]`);t&&t.click()}}let oe=[],se={};const ae={EVENT:{TAG_CREATED:"clym.tag.created",CONSENT_CHANGE:"clym.consent.change"},loaded:!1,isWidgetV2:!1,page:{widget:{},center:{company:"company"}},accessibility:e};let ce;function le(e,t){if("string"!=typeof t||!t)return h(`usage clym.${e}([event], [fn])`),!1;let n=!1;return Object.keys(ae.EVENT).forEach((e=>{ae.EVENT[e]===t&&(n=!0)})),!!n||(h(`clym.${e}(${t}) event not supported`),!1)}async function ue(e,t){if("string"!=typeof t||!t)return!1;t=t.trim();try{let n=await _("widget.consent.status",{type:e,name:t},"widget");return"boolean"==typeof n&&n}catch(e){return console&&console.error&&console.error(e),!1}}ae.ready=e=>{if(void 0===e)return ae.loaded;if("function"!=typeof e)return console&&console.warn&&console.warn("Clym.ready(fn): fn is not a function"),!1;if(ae.loaded)try{e()}catch(e){console&&console.error&&console.error(e)}else oe.push(e);return!0},ae.on=(e,t)=>!!le("on",e)&&("function"!=typeof t?(h(`on("${e}") requires a callback function`),!1):(se[e]||(se[e]=[]),se[e].push(t),!0)),ae.once=(e,t)=>!!le("once",e)&&("function"!=typeof t?(h(`on("${e}") requires a callback function`),!1):ae.on(e,(function n(r){t(r),ae.off(e,n)}))),ae.off=(e,t)=>{if(!le("off",e))return!1;if(!se[e])return!0;if(void 0===t)return delete se[e],!0;for(let n=0,r=se[e].length;n<r;n++)if(t===se[e][n]){se[e].splice(n,1);break}return 0===se[e].length&&delete se[e],!0},ae.showWidget=(e,t,n=null)=>{if("string"==typeof e&&e||(e=""),"object"==typeof t&&t||(t={}),n)try{n.preventDefault()}catch(e){}_("widget.open",{page:e,options:t||{}},"widget")},ae.showPrivacyCenter=async(e,t)=>{console.log("Clym: privacy center has been deprecated.");const n=`https://${ae.id}.cc.clym.io/`;return window.open(n,"_blank"),!1},ae.hidePrivacyCenter=async()=>(console.log("Clym: privacy center has been deprecated."),!1),ae.hideWidget=()=>_("widget.close",{},"widget"),ae.forgetUser=async()=>{await _("user.forget",{});try{window.location.reload()}catch(e){}},ae.isCookieAllowed=e=>ue("COOKIE",e),ae.isTagAllowed=e=>ue("TAG",e),ae.getUserId=async()=>{let e=await _("widget.profile.id",{},"widget");return"number"==typeof e&&(e=e.toString()),"string"==typeof e&&e?e:null},ae._triggerLoad=e=>{for(let e=0,t=oe.length;e<t;e++){let t=oe[e];try{t()}catch(e){h("ready(fn) threw an exception",e)}}oe=[],"function"==typeof window._onClymInit&&(window._onClymInit(e),delete window._onClymInit)},ae._triggerEvent=(e,t)=>{if("string"!=typeof e||!e)return;if(!se[e])return;let n=[];for(let t=0,r=se[e].length;t<r;t++)n.push(se[e][t]);for(let e=0,r=n.length;e<r;e++){let r=n[e];try{r(t)}catch(e){console&&console.error&&console.error(e)}}},ae.constants={ADJUSTMENTS:t},ae.initA11yHandler=e=>{ce=new z(e)},ae.triggerA11yChange=e=>{ce.triggerChange(e)},ae.accessibilitySyncState=async()=>{const e=ce.getState();return await _("accessibility.syncState",{payload:e},"widget")},ae.syncWidgetData=(e,t)=>{(t?[t]:document.querySelectorAll(".clym-widget-iframe")).forEach((t=>{ce.syncWidgetData(e,t)}))},ae.getWidgetData=async()=>await _("widget.data",{},"widget"),ae.getConsent=async()=>await _("widget.consent",{},"widget"),ae.getPageStructureData=async()=>{const e=re();await _("widget.accessibility.getPageStructureData",e,"widget")},ae.handlePageStructureAction=async e=>{ie(e.id,e.type)};const de=ae;var he,pe,fe,me,ge,ye,ve,be;!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(he||(he={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(pe||(pe={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(fe||(fe={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(me||(me={}));class we{listenerId;callback;next;param;success=!0;constructor(e,t,n,r){Object.assign(this,{callback:e,listenerId:n,param:t,next:r});try{this.respond()}catch(e){this.invokeCallback(null)}}invokeCallback(e){const t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class Ee extends we{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Ne(this.param,this.listenerId))}throwIfParamInvalid(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}class Ie{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach(((e,t)=>{new Ee(e.callback,e.param,t,e.next)}))}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class Se{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new Ie;static cmpStatus=pe.LOADING;static disabled=!1;static displayStatus=fe.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=pe.LOADING,this.disabled=!1,this.displayStatus=fe.HIDDEN,this.eventQueue.clear()}}class Ae{cmpId=Se.cmpId;cmpVersion=Se.cmpVersion;gdprApplies=Se.gdprApplies;tcfPolicyVersion=Se.tcfPolicyVersion}class _e extends Ae{cmpStatus=pe.ERROR}class Ne extends Ae{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardTexts;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=Se.eventStatus,this.cmpStatus=Se.cmpStatus,this.listenerId=t,Se.gdprApplies){const t=Se.tcModel;this.tcString=Se.tcString,this.isServiceSpecific=t.isServiceSpecific,this.useNonStandardTexts=t.useNonStandardTexts,this.purposeOneTreatment=t.purposeOneTreatment,this.publisherCC=t.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(t.vendorsAllowed,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(t.purposeConsents),legitimateInterests:this.createVectorField(t.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(t.vendorConsents,e),legitimateInterests:this.createVectorField(t.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(t.specialFeatureOptins),this.publisher={consents:this.createVectorField(t.publisherConsents),legitimateInterests:this.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(t.publisherCustomConsents),legitimateInterests:this.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(t.publisherRestrictions)}}}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();for(let r=1;r<=n;r++){const n=r.toString();e.getRestrictions(r).forEach((e=>{const r=e.purposeId.toString();t[r]||(t[r]={}),t[r][n]=e.restrictionType}))}}return t}createVectorField(e,t){return t?t.reduce(((t,n)=>(t[String(n)]=e.has(Number(n)),t)),{}):[...e].reduce(((e,t)=>(e[t[0].toString(10)]=t[1],e)),{})}}class Ce extends Ne{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce(((e,t)=>e+(t[1]?"1":"0")),"")}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();e.getRestrictions().forEach((e=>{t[e.purposeId.toString()]="_".repeat(n)}));for(let r=0;r<n;r++){const n=r+1;e.getRestrictions(n).forEach((e=>{const n=e.restrictionType.toString(),i=e.purposeId.toString(),o=t[i].substr(0,r),s=t[i].substr(r+1);t[i]=o+n+s}))}}return t}}class Te extends Ae{cmpLoaded=!0;cmpStatus=Se.cmpStatus;displayStatus=Se.displayStatus;apiVersion=String(Se.apiVersion);gvlVersion;constructor(){super(),Se.tcModel&&Se.tcModel.vendorListVersion&&(this.gvlVersion=+Se.tcModel.vendorListVersion)}}class Oe extends we{respond(){this.invokeCallback(new Te)}}class Le extends Ee{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Ce(this.param))}}class Re extends Error{constructor(e){super(e),this.name="DecodingError"}}class De extends Error{constructor(e){super(e),this.name="EncodingError"}}class xe extends Error{constructor(e){super(e),this.name="GVLError"}}class Ge extends Error{constructor(e,t,n=""){super(`invalid value ${t} passed for ${e} ${n}`),this.name="TCModelError"}}class Ve{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new De("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let n="";for(let t=0;t<e.length;t+=this.BASIS)n+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return n}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new Re("Invalidly encoded Base64URL string");let t="";for(let n=0;n<e.length;n++){const r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}class Pe{static langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HR","HU","ID","IT","JA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SR-LATN","SR-CYRL","SV","TL","TR","UK","ZH"]);has(e){return Pe.langSet.has(e)}parseLanguage(e){const t=(e=e.toUpperCase()).split("-")[0];if(e.length>=2&&2==t.length){if(Pe.langSet.has(e))return e;if(Pe.langSet.has(t))return t;const n=t+"-"+t;if(Pe.langSet.has(n))return n;for(const n of Pe.langSet)if(-1!==n.indexOf(e)||-1!==n.indexOf(t))return n}throw new Error(`unsupported language ${e}`)}forEach(e){Pe.langSet.forEach(e)}get size(){return Pe.langSet.size}}class ke{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardTexts="useNonStandardTexts";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}class Me{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const n=this.deepClone(this[t]);void 0!==n&&(e[t]=n)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const n of e)t.push(this.deepClone(n));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=this.deepClone(e[n]));return t}}}}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(ge||(ge={}));class He extends Me{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),n=new He;if(2!==t.length)throw new Ge("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${He.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===ge.NOT_ALLOWED||this.restrictionType===ge.REQUIRE_CONSENT||this.restrictionType===ge.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}class Be extends Me{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,n){let r=!0;if(this.gvl?.vendors){const i=this.gvl.vendors[n];if(i)if(e===ge.NOT_ALLOWED)r=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case ge.REQUIRE_CONSENT:r=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case ge.REQUIRE_LI:r=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else r=!1;else r=!1}return r}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}restrictPurposeToLegalBasis(e){const t=Array.from(this.gvl.vendorIds),n=e.hash,r=t[t.length-1],i=[...Array(r).keys()].map((e=>e+1));if(this.has(n))for(let e=1;e<=r;e++)this.map.get(n).add(e);else this.map.set(n,new Set(i)),this.bitLength=0}getVendors(e){let t=[];if(e){const n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{const e=new Set;this.map.forEach((t=>{t.forEach((t=>{e.add(t)}))})),t=Array.from(e)}return t.sort(((e,t)=>e-t))}getRestrictionType(e,t){let n;return this.getRestrictions(e).forEach((e=>{e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}vendorHasRestriction(e,t){let n=!1;const r=this.getRestrictions(e);for(let e=0;e<r.length&&!n;e++)n=t.isSameAs(r[e]);return n}getMaxVendorId(){let e=0;return this.map.forEach((t=>{e=Math.max(Array.from(t)[t.size-1],e)})),e}getRestrictions(e){const t=[];return this.map.forEach(((n,r)=>{e?n.has(e)&&t.push(He.unHash(r)):t.push(He.unHash(r))})),t}getPurposes(){const e=new Set;return this.map.forEach(((t,n)=>{e.add(He.unHash(n).purposeId)})),Array.from(e)}remove(e,t){const n=t.hash,r=this.map.get(n);r&&(r.delete(e),0==r.size&&(this.map.delete(n),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach(((e,t)=>{const n=He.unHash(t);Array.from(e).forEach((t=>{this.isOkToHave(n.restrictionType,n.purposeId,t)||e.delete(t)}))})))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(ye||(ye={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(ve||(ve={}));class Ue{static ID_TO_KEY=[ve.CORE,ve.VENDORS_DISCLOSED,ve.VENDORS_ALLOWED,ve.PUBLISHER_TC];static KEY_TO_ID={[ve.CORE]:0,[ve.VENDORS_DISCLOSED]:1,[ve.VENDORS_ALLOWED]:2,[ve.PUBLISHER_TC]:3}}class je extends Me{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>Number(e)))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every((t=>{let n=Number.isInteger(parseInt(t,10));return n=n&&this.isValidNumber(e[t].id),n=n&&void 0!==e[t].name,n})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>Number(e))));else{if(!this.isValidNumber(e))throw new Ge("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}class Fe{static[ke.cmpId]=12;static[ke.cmpVersion]=12;static[ke.consentLanguage]=12;static[ke.consentScreen]=6;static[ke.created]=36;static[ke.isServiceSpecific]=1;static[ke.lastUpdated]=36;static[ke.policyVersion]=6;static[ke.publisherCountryCode]=12;static[ke.publisherLegitimateInterests]=24;static[ke.publisherConsents]=24;static[ke.purposeConsents]=24;static[ke.purposeLegitimateInterests]=24;static[ke.purposeOneTreatment]=1;static[ke.specialFeatureOptins]=12;static[ke.useNonStandardTexts]=1;static[ke.vendorListVersion]=12;static[ke.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}class $e{static encode(e,t){let n;if("string"==typeof e&&(e=parseInt(e,10)),n=e.toString(2),n.length>t||e<0)throw new De(`${e} too large to encode into ${t}`);return n.length<t&&(n="0".repeat(t-n.length)+n),n}static decode(e,t){if(t!==e.length)throw new Re("invalid bit length");return parseInt(e,2)}}class ze{static encode(e,t){return $e.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new Re("invalid bit length");const n=new Date;return n.setTime(100*$e.decode(e,t)),n}}class We{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class Ke{static encode(e,t){let n="";for(let r=1;r<=t;r++)n+=We.encode(e.has(r));return n}static decode(e,t){if(e.length!==t)throw new Re("bitfield encoding length mismatch");const n=new je;for(let r=1;r<=t;r++)We.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}class Je{static encode(e,t){const n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||n>25||r<0||r>25)throw new De(`invalid language code: ${e}`);if(t%2==1)throw new De(`numBits must be even, ${t} is not valid`);return t/=2,$e.encode(n,t)+$e.encode(r,t)}static decode(e,t){let n;if(t!==e.length||e.length%2)throw new Re("invalid bit length for language");{const t=65,r=e.length/2,i=$e.decode(e.slice(0,r),r)+t,o=$e.decode(e.slice(r),r)+t;n=String.fromCharCode(i)+String.fromCharCode(o)}return n}}class Ye{static encode(e){let t=$e.encode(e.numRestrictions,Fe.numRestrictions);if(!e.isEmpty()){const n=(t,n)=>{for(let r=t+1;r<=n;r++)if(e.gvl.vendorIds.has(r))return r;return t};e.getRestrictions().forEach((r=>{t+=$e.encode(r.purposeId,Fe.purposeId),t+=$e.encode(r.restrictionType,Fe.restrictionType);const i=e.getVendors(r),o=i.length;let s=0,a=0,c="";for(let e=0;e<o;e++){const t=i[e];if(0===a&&(s++,a=t),e===o-1||i[e+1]>n(t,i[o-1])){const e=!(t===a);c+=We.encode(e),c+=$e.encode(a,Fe.vendorId),e&&(c+=$e.encode(t,Fe.vendorId)),a=0}}t+=$e.encode(s,Fe.numEntries),t+=c}))}return t}static decode(e){let t=0;const n=new Be,r=$e.decode(e.substr(t,Fe.numRestrictions),Fe.numRestrictions);t+=Fe.numRestrictions;for(let i=0;i<r;i++){const r=$e.decode(e.substr(t,Fe.purposeId),Fe.purposeId);t+=Fe.purposeId;const i=$e.decode(e.substr(t,Fe.restrictionType),Fe.restrictionType);t+=Fe.restrictionType;const o=new He(r,i),s=$e.decode(e.substr(t,Fe.numEntries),Fe.numEntries);t+=Fe.numEntries;for(let r=0;r<s;r++){const r=We.decode(e.substr(t,Fe.anyBoolean));t+=Fe.anyBoolean;const i=$e.decode(e.substr(t,Fe.vendorId),Fe.vendorId);if(t+=Fe.vendorId,r){const r=$e.decode(e.substr(t,Fe.vendorId),Fe.vendorId);if(t+=Fe.vendorId,r<i)throw new Re(`Invalid RangeEntry: endVendorId ${r} is less than ${i}`);for(let e=i;e<=r;e++)n.add(e,o)}else n.add(i,o)}}return n.bitLength=t,n}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(be||(be={}));class qe{static encode(e){const t=[];let n,r=[],i=$e.encode(e.maxId,Fe.maxId),o="";const s=Fe.maxId+Fe.encodingType,a=s+e.maxId,c=2*Fe.vendorId+Fe.singleOrRange+Fe.numEntries;let l=s+Fe.numEntries;return e.forEach(((i,s)=>{o+=We.encode(i),n=e.maxId>c&&l<a,n&&i&&(e.has(s+1)?0===r.length&&(r.push(s),l+=Fe.singleOrRange,l+=Fe.vendorId):(r.push(s),l+=Fe.vendorId,t.push(r),r=[]))})),n?(i+=String(be.RANGE),i+=this.buildRangeEncoding(t)):(i+=String(be.FIELD),i+=o),i}static decode(e,t){let n,r=0;const i=$e.decode(e.substr(r,Fe.maxId),Fe.maxId);r+=Fe.maxId;const o=$e.decode(e.charAt(r),Fe.encodingType);if(r+=Fe.encodingType,o===be.RANGE){if(n=new je,1===t){if("1"===e.substr(r,1))throw new Re("Unable to decode default consent=1");r++}const i=$e.decode(e.substr(r,Fe.numEntries),Fe.numEntries);r+=Fe.numEntries;for(let t=0;t<i;t++){const t=We.decode(e.charAt(r));r+=Fe.singleOrRange;const i=$e.decode(e.substr(r,Fe.vendorId),Fe.vendorId);if(r+=Fe.vendorId,t){const t=$e.decode(e.substr(r,Fe.vendorId),Fe.vendorId);r+=Fe.vendorId;for(let e=i;e<=t;e++)n.set(e)}else n.set(i)}}else{const t=e.substr(r,i);r+=i,n=Ke.decode(t,i)}return n.bitLength=r,n}static buildRangeEncoding(e){const t=e.length;let n=$e.encode(t,Fe.numEntries);return e.forEach((e=>{const t=1===e.length;n+=We.encode(!t),n+=$e.encode(e[0],Fe.vendorId),t||(n+=$e.encode(e[1],Fe.vendorId))})),n}}function Qe(){return{[ke.version]:$e,[ke.created]:ze,[ke.lastUpdated]:ze,[ke.cmpId]:$e,[ke.cmpVersion]:$e,[ke.consentScreen]:$e,[ke.consentLanguage]:Je,[ke.vendorListVersion]:$e,[ke.policyVersion]:$e,[ke.isServiceSpecific]:We,[ke.useNonStandardTexts]:We,[ke.specialFeatureOptins]:Ke,[ke.purposeConsents]:Ke,[ke.purposeLegitimateInterests]:Ke,[ke.purposeOneTreatment]:We,[ke.publisherCountryCode]:Je,[ke.vendorConsents]:qe,[ke.vendorLegitimateInterests]:qe,[ke.publisherRestrictions]:Ye,segmentType:$e,[ke.vendorsDisclosed]:qe,[ke.vendorsAllowed]:qe,[ke.publisherConsents]:Ke,[ke.publisherLegitimateInterests]:Ke,[ke.numCustomPurposes]:$e,[ke.publisherCustomConsents]:Ke,[ke.publisherCustomLegitimateInterests]:Ke}}class Xe{1={[ve.CORE]:[ke.version,ke.created,ke.lastUpdated,ke.cmpId,ke.cmpVersion,ke.consentScreen,ke.consentLanguage,ke.vendorListVersion,ke.purposeConsents,ke.vendorConsents]};2={[ve.CORE]:[ke.version,ke.created,ke.lastUpdated,ke.cmpId,ke.cmpVersion,ke.consentScreen,ke.consentLanguage,ke.vendorListVersion,ke.policyVersion,ke.isServiceSpecific,ke.useNonStandardTexts,ke.specialFeatureOptins,ke.purposeConsents,ke.purposeLegitimateInterests,ke.purposeOneTreatment,ke.publisherCountryCode,ke.vendorConsents,ke.vendorLegitimateInterests,ke.publisherRestrictions],[ve.PUBLISHER_TC]:[ke.publisherConsents,ke.publisherLegitimateInterests,ke.numCustomPurposes,ke.publisherCustomConsents,ke.publisherCustomLegitimateInterests],[ve.VENDORS_ALLOWED]:[ke.vendorsAllowed],[ve.VENDORS_DISCLOSED]:[ke.vendorsDisclosed]}}class Ze{1=[ve.CORE];2=[ve.CORE];constructor(e,t){if(2===e.version)if(e.isServiceSpecific)this[2].push(ve.PUBLISHER_TC);else{const n=!(!t||!t.isForVendors);n&&!0!==e[ke.supportOOB]||this[2].push(ve.VENDORS_DISCLOSED),n&&(e[ke.supportOOB]&&e[ke.vendorsAllowed].size>0&&this[2].push(ve.VENDORS_ALLOWED),this[2].push(ve.PUBLISHER_TC))}}}class et{static fieldSequence=new Xe;static encode(e,t){let n;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new De(`Unable to encode version: ${e.version}, segment: ${t}`)}let r="";t!==ve.CORE&&(r=$e.encode(Ue.KEY_TO_ID[t],Fe.segmentType));const i=Qe();return n.forEach((n=>{const o=e[n],s=i[n];let a=Fe[n];void 0===a&&this.isPublisherCustom(n)&&(a=Number(e[ke.numCustomPurposes]));try{r+=s.encode(o,a)}catch(e){throw new De(`Error encoding ${t}->${n}: ${e.message}`)}})),Ve.encode(r)}static decode(e,t,n){const r=Ve.decode(e);let i=0;n===ve.CORE&&(t.version=$e.decode(r.substr(i,Fe[ke.version]),Fe[ke.version])),n!==ve.CORE&&(i+=Fe.segmentType);const o=this.fieldSequence[String(t.version)][n],s=Qe();return o.forEach((e=>{const n=s[e];let o=Fe[e];if(void 0===o&&this.isPublisherCustom(e)&&(o=Number(t[ke.numCustomPurposes])),0!==o){const s=r.substr(i,o);if(t[e]=n===qe?n.decode(s,t.version):n.decode(s,o),Number.isInteger(o))i+=o;else{if(!Number.isInteger(t[e].bitLength))throw new Re(e);i+=t[e].bitLength}}})),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class tt{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);const n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(((n,r)=>{n.forEach(((i,o)=>{if(i){const i=t.vendors[o];if(!i||i.deletedDate)n.unset(o);else if(0===i[r].length)if("legIntPurposes"===r&&0===i.purposes.length&&0===i.legIntPurposes.length&&i.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===i.flexiblePurposes.length)n.unset(o);else{const t=e.publisherRestrictions.getRestrictions(o);let i=!1;for(let e=0,n=t.length;e<n&&!i;e++)i=t[e].restrictionType===ge.REQUIRE_CONSENT&&"purposes"===r||t[e].restrictionType===ge.REQUIRE_LI&&"legIntPurposes"===r;i||n.unset(o)}else n.unset(o)}}))})),e.vendorsDisclosed.set(t.vendors),e}];static process(e,t){const n=e.gvl;if(!n)throw new De("Unable to encode TCModel without a GVL");if(!n.isReady)throw new De("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),t?.version>0&&t?.version<=this.processor.length?e.version=t.version:e.version=this.processor.length;const r=e.version-1;if(!this.processor[r])throw new De(`Invalid version: ${e.version}`);return this.processor[r](e,n)}}class nt{static absCall(e,t,n,r){return new Promise(((i,o)=>{const s=new XMLHttpRequest;s.withCredentials=n,s.addEventListener("load",(()=>{if(s.readyState==XMLHttpRequest.DONE)if(s.status>=200&&s.status<300){let e=s.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}i(e)}else o(new Error(`HTTP Status: ${s.status} response type: ${s.responseType}`))})),s.addEventListener("error",(()=>{o(new Error("error"))})),s.addEventListener("abort",(()=>{o(new Error("aborted"))})),null===t?s.open("GET",e,!0):s.open("POST",e,!0),s.responseType="json",s.timeout=r,s.ontimeout=()=>{o(new Error("Timeout "+r+"ms "+e))},s.send(t)}))}static post(e,t,n=!1,r=0){return this.absCall(e,JSON.stringify(t),n,r)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class rt extends Me{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new Pe;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new xe("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;dataCategories;lang_;cacheLang_;isLatest=!1;constructor(e,t){super();let n=rt.baseUrl,r=t?.language;if(r)try{r=rt.consentLanguages.parseLanguage(r)}catch(e){throw new xe("Error during parsing the language: "+e.message)}if(this.lang_=r||rt.DEFAULT_LANGUAGE,this.cacheLang_=r||rt.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!n)throw new xe("must specify GVL.baseUrl before loading GVL json");if(e>0){const t=e;rt.CACHE.has(t)?(this.populate(rt.CACHE.get(t)),this.readyPromise=Promise.resolve()):(n+=rt.versionedFilename.replace("[VERSION]",String(t)),this.readyPromise=this.fetchJson(n))}else rt.CACHE.has(rt.LATEST_CACHE_KEY)?(this.populate(rt.CACHE.get(rt.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(n+rt.latestFilename))}}static emptyLanguageCache(e){let t=!1;return null==e&&rt.LANGUAGE_CACHE.size>0?(rt.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(rt.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(rt.CACHE.delete(e),t=!0):void 0===e&&(rt.CACHE=new Map,t=!0),t}cacheLanguage(){rt.LANGUAGE_CACHE.has(this.cacheLang_)||rt.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}async fetchJson(e){try{this.populate(await nt.fetch(e))}catch(e){throw new xe(e.message)}}getJson(){return{gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks(),...this.dataCategories?{dataCategories:this.cloneDataCategories()}:{},vendors:this.cloneVendors()}}cloneSpecialFeatures(){const e={};for(const t of Object.keys(this.specialFeatures))e[t]=rt.cloneFeature(this.specialFeatures[t]);return e}cloneFeatures(){const e={};for(const t of Object.keys(this.features))e[t]=rt.cloneFeature(this.features[t]);return e}cloneStacks(){const e={};for(const t of Object.keys(this.stacks))e[t]=rt.cloneStack(this.stacks[t]);return e}cloneDataCategories(){const e={};for(const t of Object.keys(this.dataCategories))e[t]=rt.cloneDataCategory(this.dataCategories[t]);return e}cloneSpecialPurposes(){const e={};for(const t of Object.keys(this.specialPurposes))e[t]=rt.clonePurpose(this.specialPurposes[t]);return e}clonePurposes(){const e={};for(const t of Object.keys(this.purposes))e[t]=rt.clonePurpose(this.purposes[t]);return e}static clonePurpose(e){return{id:e.id,name:e.name,description:e.description,...e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},...e.illustrations?{illustrations:Array.from(e.illustrations)}:{}}}static cloneFeature(e){return{id:e.id,name:e.name,description:e.description,...e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},...e.illustrations?{illustrations:Array.from(e.illustrations)}:{}}}static cloneDataCategory(e){return{id:e.id,name:e.name,description:e.description}}static cloneStack(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}static cloneDataRetention(e){return{..."number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{},purposes:{...e.purposes},specialPurposes:{...e.specialPurposes}}}static cloneVendorUrls(e){return e.map((e=>({langId:e.langId,privacy:e.privacy,...e.legIntClaim?{legIntClaim:e.legIntClaim}:{}})))}static cloneVendor(e){return{id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures),...e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{},..."number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{},...void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{},...e.policyUrl?{policyUrl:e.policyUrl}:{},...void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{},...void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{},...e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{},...e.urls?{urls:this.cloneVendorUrls(e.urls)}:{},...e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{},...e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{},...e.deletedDate?{deletedDate:e.deletedDate}:{}}}cloneVendors(){const e={};for(const t of Object.keys(this.fullVendorList))e[t]=rt.cloneVendor(this.fullVendorList[t]);return e}async changeLanguage(e){let t=e;try{t=rt.consentLanguages.parseLanguage(e)}catch(e){throw new xe("Error during parsing the language: "+e.message)}const n=e.toUpperCase();if((t.toLowerCase()!==rt.DEFAULT_LANGUAGE.toLowerCase()||rt.LANGUAGE_CACHE.has(n))&&t!==this.lang_)if(this.lang_=t,rt.LANGUAGE_CACHE.has(n)){const e=rt.LANGUAGE_CACHE.get(n);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const e=rt.baseUrl+rt.languageFilename.replace("[LANG]",this.lang_.toLowerCase());try{await this.fetchJson(e),this.cacheLang_=n,this.cacheLanguage()}catch(e){throw new xe("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&rt.CACHE.set(rt.LATEST_CACHE_KEY,this.getJson()),rt.CACHE.has(this.vendorListVersion)||rt.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const n=this.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,r){const i=e.charAt(0).toUpperCase()+e.slice(1);let o;const s={};return o="purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(t)],o.forEach((e=>{s[String(e)]=this.vendors[String(e)]})),s}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new rt(this.getJson());return this.lang_!==rt.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class it extends Me{static consentLanguages=rt.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardTexts_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=4;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new je;purposeConsents=new je;purposeLegitimateInterests=new je;publisherConsents=new je;publisherLegitimateInterests=new je;publisherCustomConsents=new je;publisherCustomLegitimateInterests=new je;customPurposes;vendorConsents=new je;vendorLegitimateInterests=new je;vendorsDisclosed=new je;vendorsAllowed=new je;publisherRestrictions=new Be;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){rt.isInstanceOf(e)||(e=new rt(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new Ge("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Ge("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Ge("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new Ge("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=0|Number(e))<0)throw new Ge("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new Ge("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardTexts(e){this.useNonStandardTexts_=e}get useNonStandardTexts(){return this.useNonStandardTexts_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort(((e,t)=>Number(e)-Number(t)));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new Ge("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}class ot{static encode(e,t){let n,r="";return e=tt.process(e,t),n=Array.isArray(t?.segments)?t.segments:new Ze(e,t)[""+e.version],n.forEach(((t,i)=>{let o="";i<n.length-1&&(o="."),r+=et.encode(e,t)+o})),r}static decode(e,t){const n=e.split("."),r=n.length;t||(t=new it);for(let e=0;e<r;e++){const r=n[e],i=Ve.decode(r.charAt(0)).substr(0,Fe.segmentType),o=Ue.ID_TO_KEY[$e.decode(i,Fe.segmentType).toString()];et.decode(r,t,o)}return t}}class st extends we{respond(){const e=Se.tcModel,t=e.vendorListVersion;let n;void 0===this.param&&(this.param=t),n=this.param===t&&e.gvl?e.gvl:new rt(this.param),n.readyPromise.then((()=>{this.invokeCallback(n.getJson())}))}}class at extends Ee{respond(){this.listenerId=Se.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}class ct extends we{respond(){this.invokeCallback(Se.eventQueue.remove(this.param))}}class lt{static[he.PING]=Oe;static[he.GET_TC_DATA]=Ee;static[he.GET_IN_APP_TC_DATA]=Le;static[he.GET_VENDOR_LIST]=st;static[he.ADD_EVENT_LISTENER]=at;static[he.REMOVE_EVENT_LISTENER]=ct}class ut{static set_=new Set([0,2,void 0,null]);static has(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}const dt="__tcfapi";class ht{callQueue;customCommands;constructor(e){if(e){let t=he.ADD_EVENT_LISTENER;if(e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed: Use ${he.GET_TC_DATA} instead`);if(t=he.REMOVE_EVENT_LISTENER,e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed`);e?.[he.GET_TC_DATA]&&(e[he.ADD_EVENT_LISTENER]=e[he.GET_TC_DATA],e[he.REMOVE_EVENT_LISTENER]=e[he.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[dt]()||[]}catch(e){this.callQueue=[]}finally{window[dt]=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,...r){if("string"!=typeof e)n(null,!1);else if(ut.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");Se.disabled?n(new _e,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?this.customCommands[e](n,...r):e===he.PING?this.isCustomCommand(e)?new lt[e](this.customCommands[e],r[0],null,n):new lt[e](n,r[0]):void 0===Se.tcModel?this.callQueue.push([e,t,n,...r]):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new lt[e](this.customCommands[e],r[0],null,n):new lt[e](n,r[0]):n(null,!1)}else n(null,!1)}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window[dt](...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==lt[e]}}class pt{callResponder;isServiceSpecific;numUpdates=0;constructor(e,t,n=!1,r){this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),Se.cmpId=e,Se.cmpVersion=t,Se.tcfPolicyVersion=4,this.isServiceSpecific=!!n,this.callResponder=new ht(r)}throwIfInvalidInt(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error(`Invalid ${t}: ${e}`)}update(e,t=!1){if(Se.disabled)throw new Error("CmpApi Disabled");Se.cmpStatus=pe.LOADED,t?(Se.displayStatus=fe.VISIBLE,Se.eventStatus=me.CMP_UI_SHOWN):void 0===Se.tcModel?(Se.displayStatus=fe.DISABLED,Se.eventStatus=me.TC_LOADED):(Se.displayStatus=fe.HIDDEN,Se.eventStatus=me.USER_ACTION_COMPLETE),Se.gdprApplies=null!==e,Se.gdprApplies?(""===e?(Se.tcModel=new it,Se.tcModel.cmpId=Se.cmpId,Se.tcModel.cmpVersion=Se.cmpVersion):Se.tcModel=ot.decode(e),Se.tcModel.isServiceSpecific=this.isServiceSpecific,Se.tcfPolicyVersion=Number(Se.tcModel.policyVersion),Se.tcString=e):Se.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():Se.eventQueue.exec(),this.numUpdates++}disable(){Se.disabled=!0,Se.cmpStatus=pe.ERROR}}var ft=n(40),mt=n.n(ft);let gt=null;const yt={};function vt(){let e=document.cookie.split(/; */);for(let t=0,n=e.length;t<n;t++)bt(e[t].split("=")[0])}function bt(e){[window.location.hostname,"."+window.location.hostname].forEach((t=>{document.cookie=`${e}=; Path=/; Domain=${t}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`}))}function wt(e,t,n){if("object"!=typeof e||!e)return!1;try{if(!e.id)return!1;if(yt[e.id])return!1;if("string"!=typeof e.content||!e.content)return!1;if("string"!=typeof e.content_signature||!e.content)return!1;let o=(r=e.content,i=t.secret,s.hmac(i,r));if("nosign"!==e.content_signature&&o!==e.content_signature)return!1;let a=`clym-tag-${e.id}`;if(document.getElementById(a)){if(!e.forceInject)return!1;document.getElementById(a).remove()}if(!n)return!1;let c=document.createElement("div");c.id=a,c.setAttribute("data-managed-by","clym");let l=e.content;if("JS"===e.type&&-1===l.indexOf("<script")&&(l=`<script type='text/javascript'>${l}<\/script>`),"Google Tag Manager"===e.name){c=document.createElement("script"),l=l.replace(/<!--(.*?)-->/g,""),l=l.replace(/<script>/,""),l=l.replace(/<\/script>/,""),l=l.replace(/<noscript\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/noscript>/gi,""),c.text=l;let e=n.parentNode;for(;e.parentNode;){if("BODY"===e.parentNode.nodeName){e.parentNode.appendChild(c);break}e=e.parentNode}}else n.parentNode.appendChild(c),c.innerHTML=l,Et(c);de._triggerEvent(de.EVENT.TAG_CREATED,{id:e.id,name:e.name,type:e.type,element:c})}catch(e){return h(` could not inject tag: ${e.message}`,e),!1}var r,i}function Et(e){if(!0===function(e){return"SCRIPT"===e.tagName}(e))e.parentNode.replaceChild(function(e){let t=document.createElement("script");t.text=e.innerHTML;for(let n=e.attributes.length-1;n>=0;n--)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}(e),e);else{let t=0,n=e.childNodes;for(;t<n.length;)Et(n[t++])}return e}let It,St=[];async function At(e,t={}){let n=c,r="widget";t?.assistant_id&&"assistant"===t?.page&&(r="assistant");const i=function(e){let t=null,n=1,r=[];const i={id:g(p(5)+Date.now().toString().substr(0,8)).substr(0,32),secret:p(32),type:e,connected:!1};let o=[];function s(){}return i.send=async(e,t)=>{if(!i.connected)return o.push({action:e,data:t}),!0;let r={id:Date.now().toString()+n,action:e,data:t||{},cid:i.id};return n++,new Promise(((e,t)=>{i.call("api.event",r).then((n=>"object"==typeof n&&n?"ERROR"===n.type?t(n.error):void e(n.data):e())).catch(t)}))},i.connect=async e=>{if(i.connected)return Promise.resolve(t);let n=await async function(){try{E||await I();let e=await E.getItem(w);if("string"!=typeof e||!e)throw 1;if(e=JSON.parse(e),"object"!=typeof e||!e)throw 2;if("string"!=typeof e.s||!e.s)throw 3;return e.s}catch(e){}return null}();return i.iframe=e,new Promise(((r,a)=>{let c=!1,l=setTimeout((()=>{c||(c=!0,a(new Error("Could not establish a connection with frame")))}),2e4);t=v.build({window:e.contentWindow,origin:"*",scope:"clym",onReady:()=>{i.call("connect",{sid:n,id:i.id,secret:i.secret,origin:window.location.host,path:window.location.pathname,proto:window.location.protocol.split(":")[0]}).then((e=>{if(clearTimeout(l),!c){if(c=!0,i.connected=!0,o.length>0){let e=o;o=[];for(let t=0;t<e.length;t++)i.send(e[t].action,e[t].data).catch(s)}r(e)}})).catch((e=>{clearTimeout(l),c||(c=!0,console&&console.error&&console.error(e),a(e))}))}})}))},i.call=(e,n)=>new Promise(((r,i)=>{if(!t)return i(new Error(`${u}: secure channel is not yet established`));let o={method:e,params:n||{},success:e=>r(e),error:e=>i(e)};t.call(o)})),i.listen=(e,n)=>{let o=!1;n||(n=t),n.bind("api.event",(async(t,n)=>{if("object"!=typeof n||!n)return;if("string"!=typeof n.action||!n.action)return;if(n.cid&&n.cid!==i.id)return;if(!o&&e&&(e(),o=!0,e=null),"object"!=typeof n||!n)return t.complete();if(void 0===r[n.action])return t.complete();t.delayReturn(!0);let s=r[n.action];s instanceof Array||(s=[s]);let a=[];for(let e=0,r=s.length;e<r;e++)try{let t=await s[e](n.data)||{};a.push(t)}catch(t){console.log(`Clym error on ${n.action}`),console.error(t)}return 0===a.length?t.complete():(a.length,t.complete({type:"SUCCESS",data:a[0]}))}))},i.on=(e,t)=>{void 0===r[e]&&(r[e]=[]),r[e].push(t)},A.push(i),i}(r);let o="widget.html",s="",a=!1;{const t=await async function(e){return It||(It=new Promise((async t=>{try{const n="https://partners.clym.io/api/query/domain?"+new URLSearchParams({id:e,slim:!0,_version:"latest",_build:d}),r=await fetch(n),i=await r.json();t(i?.result||null)}catch(e){console.warn("Clym: Error occurred calling Partner API"),console.warn(e),t(null)}It=null})),It)}(e);t&&(2===t.widget_version&&(a=!0),t.instance?.hostname&&(s=`https://privacy-api-${t.instance.hostname}`))}-1!==window.location.search.indexOf("clym-widget=2")&&(a=!0),a&&(de.isWidgetV2=!0,n=l,o="",["CLYM","VERSION","LATEST"].join("_"),o="latest/");let y=t;y.id=e.split("-")[0],O=e.substr(0,10);let b=`${n}/${o}?channel=${i.id}&id=${y.id}&api=${btoa(s)}`;b+="&origin="+window.location.host,t.page&&(b+=`&page=${t.page}`),"assistant"===t.page&&t.assistant_id&&(b+=`&assistant_id=${t.assistant_id}`),"string"==typeof t.country&&t.country.length<=3&&(b+="&country="+t.country),"string"==typeof t.state&&t.state.length<=5&&(b+="&state="+t.state),t.apiVersion>0&&(b+=`&_api=${t.apiVersion}`);let N=function(e,t={},n){(t=t||{}).position=t.position||"left",n.WidgetPosition=t.position;let r="clym-widget-privacy-frame";t.assistant_id&&(r="clym-widget-assistant-frame");let i=document.getElementById(r);if(i)throw new Error("Widget plugin loaded multiple times");i=document.createElement("div"),i.className="clym-widget",i.id=r;let o=f({left:{position:"fixed","z-index":"2147483646",left:"0",bottom:"0","color-scheme":"light"},right:{position:"fixed","z-index":"2147483646",right:"0",bottom:"0","color-scheme":"light"}}[t.position]);i.setAttribute("style",o),i.style=o;let s=document.getElementsByTagName("body")[0];s.firstChild?s.insertBefore(i,s.lastChild):s.appendChild(i);let a=document.createElement("iframe"),c={src:e,name:"clym-frame-"+n.id,frameborder:0,marginheight:0,allowtransparency:"true",marginwidth:0,allow:"clipboard-write",scrolling:"no",title:"widget"===n.type?"Privacy Widget":"Assistant Widget"},l=f(m());Object.keys(c).forEach((e=>{a.setAttribute(e,c[e])})),"right"===t.position&&(a.setAttribute("right","0px"),a.setAttribute("left","initial")),a.setAttribute("style",l),a.style=l;try{a.classList.add("clym-widget-iframe")}catch(e){}return i.appendChild(a),a}(b,t,i);await i.connect(N),async function(e,t){let n={};t.on("storage.startSync",(async e=>await async function(){try{let e=await T.keys();for(let t=0,n=e.length;t<n;t++){let n=e[t];0===n.indexOf(O+":")&&await D(n)}x=setTimeout(G,600)}catch(e){P=!1,h(`could not start storage sync: ${e.message}`)}}())),t.on("storage.stopSync",(async e=>await(clearTimeout(x),void(L={})))),t.on("storage.sync",(async e=>await G())),t.on("storage.clear",(async e=>await async function(e){try{let t=await T.keys()||[];for(let n=0,r=t.length;n<r;n++){let r=t[n];(e||0===r.indexOf(O))&&await T.removeItem(r)}}catch(e){return!1}}(e.all))),t.on("storage.remove",(async e=>await async function(e){if(e=k(e)){M(e);try{return await T.removeItem(e),!0}catch(e){return!1}}}(e.key))),t.on("storage.exists",(async e=>await async function(e){try{if(!(e=k(e)))return;return!(null==await T.getItem(e))}catch(e){return!1}}(e.key))),t.on("storage.read",(async e=>await D(e.key))),t.on("storage.save",(async e=>await async function(e,t){try{if(!(e=k(e)))return;try{if(-1!==e.indexOf(":lang")&&(t=JSON.parse(JSON.stringify(t))).languages instanceof Array)for(let e=0;e<t.languages.length;e++)t.languages[e].url&&delete t.languages[e].url}catch(e){}return M(e,t),await T.setItem(e,t),!0}catch(e){return console.log(e),!1}}(e.key,e.data))),t.on("widget.position.change",(async n=>{let r="left"===n.position?"right":"left";t.WidgetPosition=n.position;let i=e.parentElement;i||(i=document.querySelector(`#clym-widget-${t.type}-frame`)),i&&(i.style[r]=e.style[r]="initial",i.style[r]=e.style[r]="initial",i.style[n.position]=e.style[n.position]="0px",i.style[n.position]=e.style[n.position]="0px")})),t.on("widget.sid.clear",(async()=>await S())),t.on("widget.sid.set",(async e=>await S(e))),t.on("widget.reload",(e=>{e&&e.clear_cookies&&vt(),e&&"string"==typeof e.url&&e.url?window.location=e.url:window.location.reload()})),e&&(t.on("widget.size",(e=>{if("object"!=typeof e||!e||0===Object.keys(e).length)return i();n=e,s(a(n))})),t.on("widget.set.styles.v2",(r=>{r.position&&(t.WidgetPosition=r.position),function(t){let n=t?.position;delete t.position,"right"===n?t.left="auto":"left"===n&&(t.right="auto");for(const n in t){let r=t[n];"number"==typeof r&&0!==r&&(r+="px"),"100vh"===r&&(r="100dvh"),"100vw"===r&&(r="100dvw"),e.style.setProperty(n,r)}}(r),requestAnimationFrame((()=>{const t=e.getBoundingClientRect(),i={x:t.x,y:t.y-t.top,width:t.width,height:t.height};i.top=r.top,i.bottom=r.bottom,"100vw"===r.width&&(i.full_width=!0),"100vh"===r.height&&(i.full_height=!0),n=i;let o=a(n);"top"in r?o.top=r.top:delete o.top,"bottom"in r?o.bottom=r.bottom:delete o.bottom,s(o)}))}))),t.on("widget.tag",(n=>{"object"==typeof n&&n&&wt(n,t,e)})),t.on("widget.cookies.clear",(()=>{vt()})),t.on("widget.reset.accessibility",(()=>{R.clear()})),t.on("widget.consent.change",(e=>{de._triggerEvent(de.EVENT.CONSENT_CHANGE,e)})),t.on("accessibility.trigger",(e=>{de.triggerA11yChange(e)})),t.on("accessibility.syncState",(()=>{de.accessibilitySyncState()})),t.on("accessibility.init",(e=>{de.initA11yHandler(e)})),t.on("accessibility.sendData",(t=>{de.syncWidgetData(t,e)})),t.on("widget.accessibility.getPageStructureData",(()=>{de.getPageStructureData()})),t.on("widget.accessibility.pageStructrueAction",(e=>{de.handlePageStructureAction(e)}));let r=!0;function i(){let t=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0];const o={width:t.innerWidth||r.clientWidth||i.clientWidth,height:t.innerHeight||r.clientHeight||i.clientHeight};if(e)try{const t=e.getBoundingClientRect();o.frame_width=t.width,o.frame_height=t.height}catch(r){}return o}async function o(){const e=i();s(a(n));try{await t.send("widget.size",e)}catch(e){if("method_not_found"===e)return;h(`could not send parent size: ${e.message}`)}}function s(n){if("number"!=typeof n.width||"number"!=typeof n.height||"number"!=typeof n.x||"number"!=typeof n.y){let t=m({},{"min-width:":"0px !important","min-height":"0px !important"});return void e.setAttribute("style",f(t))}if(n.width<3||n.height<3){let t=m({},{"min-width:":"0px !important","min-height":"0px !important"});return void e.setAttribute("style",f(t))}let r,i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=(Math.max(document.documentElement.clientHeight,window.innerHeight||0),e.parentElement||document.getElementById(`clym-widget-${t.type}-frame`)),s=de.isWidgetV2?90:64;if(i<437&&n.height>=s){n.x=0,n.y=0,r=!0;try{o.classList.contains("clym-widget-mobile")?r=void 0:(r=!0,o.classList.add("clym-widget-mobile"))}catch(e){}}else{r=!1;try{o.classList.contains("clym-widget-mobile")?o.classList.remove("clym-widget-mobile"):r=void 0}catch(e){}}"boolean"==typeof r&&t.send("widget.mobile",{is_mobile:r});let a=`${n.width+(de.isWidgetV2?0:3)}px !important`,c=`${n.height}px !important`,l=`${n.x||0}px !important`,u=`${n.y||0}px !important`,d={position:"fixed !important",width:a,height:c,bottom:u};if(n.full_width&&(d.width="100vw"),n.full_height&&(d.height="100vh"),void 0!==n.top?(delete d.bottom,d.top=u,o.style.bottom="initial",o.style.top="0px"):(o.style.bottom="0px",o.style.top="initial"),n.width<=s)try{o.classList.remove("clym-widget-open")}catch(e){}else try{o.classList.add("clym-widget-open")}catch(e){}if(n.width>=i)try{o.classList.add("clym-widget-fullscreen")}catch(e){}else try{o.classList.remove("clym-widget-fullscreen")}catch(e){}"left"===t.WidgetPosition?(d.right="auto",d.left=l):(d.left="auto",d.right=0);let h=Object.assign({},m(),d);e.setAttribute("style",f(h))}function a(e){let t=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],o={};const s={x:0,y:0,width:t.innerWidth||r.clientWidth||i.clientWidth,height:t.innerHeight||r.clientHeight||i.clientHeight};return o.x=s.width<e.width?0:e.x,o.y=s.height<e.height?0:e.y,"100%"===e.width?o.width=s.width:o.width=s.width<e.width?s.width:e.width,"100%"===e.height?o.height=s.height:o.height=s.height<e.height?s.height:e.height,e.forceXY&&(o.forceXY=e.forceXY),"top"in e&&(o.top=e.top),"bottom"in e&&(o.bottom=e.bottom),e.full_width&&(o.full_width=!0),e.full_height&&(o.full_height=!0),o}t.on("widget.scroll",(e=>{if("object"!=typeof e||!e||"boolean"!=typeof e.active)return;let t=e.active;if(r===t)return;r=t;let n=document.getElementsByTagName("body")[0];if(!n)return;let i=function(e){let t="";try{t=e.getAttribute("style")}catch(n){try{t=e.style}catch(e){}}if("string"!=typeof t)return{};let n={},r=t.split(";");for(let e=0,t=r.length;e<t;e++){let t=r[e].trim().split(":"),i=(t[0]||"").trim(),o=(t[1]||"").trim();i&&(n[i]=o)}return n}(n);t?delete i.overflow:i.overflow="hidden !important";let o=f(i);try{n.setAttribute("style",o)}catch(e){}try{n.style=o}catch(e){}})),t.on("tcf.update",(e=>{var t,n;t=e.data,n=e.showUI||!1,gt.update(t,n||!0)})),window.Clym.customEventListenerLoaded||"widget"!==t.type||(window.Clym.customEventListenerLoaded=!0,window.addEventListener("message",(e=>{if(![c,l].includes(e.origin))return;const t=JSON.parse(e.data);if(t&&"embedded.inject"===t.type){const e=document.getElementsByTagName("iframe");for(const n of e)if(n.src===t.payload.currentURL){const e=n.cloneNode();e.src=t.payload.frame.url,n.parentNode.insertBefore(e,n),n.remove()}}}))),e&&(window.addEventListener("resize",o),o())}(N,i);try{!function(){const e=window.history;let t;const n=()=>{_("widget.url.change",{url:window.location.href}).catch((function(){}))},r=()=>{clearTimeout(t),t=setTimeout(n,50)};let i=e.pushState,o=e.replaceState;e.pushState=function(){return r(),i.apply(e,arguments)},e.replaceState=function(t){return r(),o.apply(e,arguments)},n()}()}catch(e){}return mt()(),gt=new pt(213,1,!0),async function(){const e=window.navigator.globalPrivacyControl;await _("gpc.sendSignal",{signal:e},"widget")}(),St.push({type:r,iframe:N}),new Promise((e=>{i.listen((()=>{e(N)}))}))}const _t=["privacy","assistant"],Nt={};if(Object.keys(de).forEach((e=>{"_"!==e.charAt(0)&&(Nt[e]="function"==typeof de[e]?de[e].bind(de):de[e])})),Nt.load=function(e,t,n){if("string"!=typeof e||!e)return h(`widget type is required for ${u}.load()`),!1;if(e.startsWith(`${u}-`)&&(e=e.substr(5)),de.id=t,-1===_t.indexOf(e))return h(`widget type ${e} is not available`),!1;if("string"!=typeof t||!t)return h("widget id is required for Clym.load()"),!1;"object"==typeof n&&n||(n={});try{let e=new URLSearchParams(location.search);if(e.has("clym-api")){let t=parseInt(e.get("clym-api"));!isNaN(t)&&t>0&&(n.apiVersion=t)}}catch(e){}let r;return"privacy"===e?r=Ct:"assistant"===e&&(r=Tt),!!r&&("interactive"===document.readyState||"complete"===document.readyState?r(t,n):(window.addEventListener("DOMContentLoaded",(()=>{r(t,n)})),!0))},window._clymInit instanceof Array){try{window._clymInit.forEach((e=>{Nt.load(e[0],e[1],e[2])}))}catch(e){}window._clymInit=[]}function Ct(e,t){let n=de._triggerLoad;At(e,t).then((e=>{e&&(de.loaded=Nt.loaded=!0,n(Nt))})).catch(h)}function Tt(e,t={}){let n=de._triggerLoad;if(!t?.assistant_id)return!1;At(e,{...t,page:"assistant"}).then((e=>{e&&(de.loaded=Nt.loaded=!0,n(Nt))})).catch(h)}window.Clym=Nt})()})();